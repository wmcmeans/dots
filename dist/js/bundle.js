!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/dist/js/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(1),i=r(o),s=n(98);document.addEventListener("DOMContentLoaded",function(){var t=(0,s.queryEl)("#spots-game"),e=new i.default(t);e.start(),(0,s.queryEl)("#new-game-btn").addEventListener("click",function(t){t.preventDefault(),window.location.reload()})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),s=n(20),u=r(s),c=n(21),a=r(c),f=n(25),l=r(f),h=n(94),d=n(98),v=function(){function t(e){(0,u.default)(this,t),this.xDim=e.offsetWidth,this.yDim=e.offsetHeight,this.ctx=e.getContext("2d"),(0,d.fixCanvasBlur)(e),this.trackCursor(),this.board=new l.default,this.setupScoreBoard(),this.setupGameOverText()}return(0,a.default)(t,[{key:"addBorderAndBG",value:function(){this.board.squared?(document.body.style.backgroundColor=(0,d.getColorAtReducedOpacity)(this.board.moveColor,.25),document.body.style.borderColor=(0,d.getColorAtReducedOpacity)(this.board.moveColor)):(document.body.style.backgroundColor="",document.body.style.borderColor="transparent")}},{key:"beginMove",value:function(){this.moving=!0,this.board.beginMove(this.cursorPos)}},{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.xDim,this.yDim)}},{key:"displayGameOverText",value:function(){var t=this;this.endGameDom.highScoreTextNodes.forEach(function(e){return e.textContent=t.highScore}),this.endGameDom.thisScoreTextNode.textContent=this.score,this.newHighScore?this.endGameDom.gameOverText.classList.add("new-high-score"):this.endGameDom.gameOverText.classList.remove("new-high-score"),this.endGameDom.canvasContainer.classList.add("game-over")}},{key:"end",value:function(){this.over=!0,this.updateHighScoreIfBeaten(),this.displayGameOverText()}},{key:"endMove",value:function(){this.moving=!1;var t=this.board.endMove();t&&this.updateScore(t),0===this.movesLeft&&this.end()}},{key:"render",value:function(t){this.ctx.clearRect(0,0,this.xDim,this.yDim),this.addBorderAndBG(),this.board.draw(this.ctx,this.cursorPos,t)}},{key:"setupGameOverText",value:function(){this.endGameDom={canvasContainer:(0,d.queryEl)("#canvas-container"),gameOverText:(0,d.queryEl)("#game-over-text"),highScoreTextNodes:(0,d.queryElAll)(".high-score-text"),thisScoreTextNode:(0,d.queryEl)("#this-score-text")}}},{key:"setupScoreBoard",value:function(){this.gameTracker={score:(0,d.queryEl)("#score"),movesLeft:(0,d.queryEl)("#moves-left")},this.score=0,this.movesLeft=31,this.updateScore()}},{key:"start",value:function(){var t=this,e=function e(n){var r=n-t.lastTime;t.lastTime=n,t.render(r),t.over?t.clearCanvas():window.requestAnimationFrame(e)};e(0),this.trackMoves()}},{key:"trackCursor",value:function(){var t=this;this.cursorPos={x:0,y:0};var e=function(e){return t.cursorPos=(0,d.getCursorPos)(t.ctx.canvas,e)},n=function(e){return t.cursorPos=(0,d.getTouchPos)(t.ctx.canvas,e)};document.addEventListener("mousemove",e),document.addEventListener("touchmove",n)}},{key:"trackMoves",value:function(){var t=this,e=function(){return t.beginMove()},n=function(e){t.cursorPos=(0,d.getTouchPos)(t.ctx.canvas,e),t.beginMove()};this.ctx.canvas.addEventListener("mousedown",e),this.ctx.canvas.addEventListener("touchstart",n);var r=function(){return t.endMove()};window.addEventListener("mouseup",r),window.addEventListener("touchend",r)}},{key:"updateHighScoreIfBeaten",value:function(){this.highScore=parseInt(localStorage.getItem(h.HIGH_SCORE),10),this.newHighScore=!1,(this.score>this.highScore||(0,i.default)(this.highScore))&&(this.newHighScore=!0,this.highScore=this.score,localStorage.setItem(h.HIGH_SCORE,this.score))}},{key:"updateScore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.score+=t,this.movesLeft-=1,this.gameTracker.score.textContent=this.score,this.gameTracker.movesLeft.textContent=this.movesLeft}}]),t}();e.default=v},function(t,e,n){t.exports={default:n(3),__esModule:!0}},function(t,e,n){n(4),t.exports=n(7).Number.isNaN},function(t,e,n){var r=n(5);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(6),o=n(7),i=n(8),s=n(10),u="prototype",c=function(t,e,n){var a,f,l,h=t&c.F,d=t&c.G,v=t&c.S,p=t&c.P,y=t&c.B,g=t&c.W,x=d?o:o[e]||(o[e]={}),m=x[u],S=d?r:v?r[e]:(r[e]||{})[u];d&&(n=e);for(a in n)f=!h&&S&&void 0!==S[a],f&&a in x||(l=f?S[a]:n[a],x[a]=d&&"function"!=typeof S[a]?n[a]:y&&f?i(l,r):g&&S[a]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(l):p&&"function"==typeof l?i(Function.call,l):l,p&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&m&&!m[a]&&s(m,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(11),o=n(19);t.exports=n(15)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12),o=n(14),i=n(18),s=Object.defineProperty;e.f=n(15)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(15)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(13),o=n(6).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(22),i=r(o);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(23),__esModule:!0}},function(t,e,n){n(24);var r=n(7).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(5);r(r.S+r.F*!n(15),"Object",{defineProperty:n(11).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(26),i=r(o),s=n(20),u=r(s),c=n(21),a=r(c),f=n(81),l=r(f),h=n(99),d=r(h),v=n(98),p=function(){function t(){(0,u.default)(this,t),this.selectedSpots=[],this.lines=[],this.moveColor=void 0,this.setup()}return(0,a.default)(t,[{key:"addAllSpotsOfColorToMove",value:function(){var t=this,e=this.selectedSpots[0]&&this.selectedSpots[0].color;this.grid.forEach(function(n){n.forEach(function(n){n.color!==e||t.selectedSpots.find(function(t){return t===n})||t.selectedSpots.push(n)})})}},{key:"addSpotToMove",value:function(t){t.setActive();var e=new d.default(t);this.selectedSpots.length&&(this.getTailSpot().setInactive(),this.getTailLine().forgeConnection(t)),this.selectedSpots.push(t),this.lines.push(e)}},{key:"beginMove",value:function(t){this.moving=!0;var e=this.findActiveSpot(t);e?this.addSpotToMove(e):this.endMove()}},{key:"cancelMove",value:function(){this.selectedSpots.forEach(function(t){return t.setInactive()}),this.clearMove()}},{key:"checkForNewConnections",value:function(t){var e=this.findActiveSpot(t),n=this.getTailSpot();if(e&&e!==n&&n.canConnectWith(e)){var r=this.lines.find(function(t){var r=t.startSpot,o=t.endSpot;return r===n&&o===e||r===e&&o===n}),o=this.getSpotBeforeTail();o&&o===e?(this.removeLastConnection(),this.checkForSquares()):r||(this.addSpotToMove(e),this.checkForSquares())}}},{key:"checkForSquares",value:function(){var t=this,e=new i.default,n=!1;this.lines.forEach(function(t){var r=t.startSpot,o=r.pos.x+"-"+r.pos.y;e.has(o)&&(n=!0),e.add(o)}),this.moveColor=this.selectedSpots[0]&&this.selectedSpots[0].color,this.grid.forEach(function(e){e.forEach(function(e){e.color===t.moveColor&&n?e.setActive():t.selectedSpots.find(function(t){return t===e})||e.setInactive()})}),this.squared=n}},{key:"clearMove",value:function(){this.selectedSpots=[],this.lines=[]}},{key:"draw",value:function(t,e,n){var r=this;this.squareSize=t.canvas.offsetWidth/this.grid.length,this.moving&&this.checkForNewConnections(e),this.grid.forEach(function(o){return o.forEach(function(o){return o.draw(t,r.squareSize,e,n)})}),this.lines.forEach(function(n){return n.draw(t,e)})}},{key:"endMove",value:function(){return this.moving=!1,this.selectedSpots.length>1?this.tallyAndRemoveSpots():this.cancelMove()}},{key:"findActiveSpot",value:function(t){for(var e=0;e<this.grid.length;e++)for(var n=0;n<this.grid[0].length;n++){var r=this.grid[e][n];if(r.isMouseOver(t))return r}return null}},{key:"getTailLine",value:function(){return this.lines[this.lines.length-1]}},{key:"getTailSpot",value:function(){return this.selectedSpots[this.selectedSpots.length-1]}},{key:"getSpotBeforeTail",value:function(){return this.selectedSpots.length<2?null:this.selectedSpots[this.selectedSpots.length-2]}},{key:"removeLastConnection",value:function(){this.selectedSpots.pop(),this.lines.pop();var t=this.lines[this.lines.length-1];t.endSpot&&t.destroyConnection()}},{key:"setup",value:function(){this.grid=[];for(var t=0;t<6;t++){for(var e=[],n=0;n<6;n++){var r=new l.default({pos:{x:n,y:t},color:(0,v.randomColor)()});e.push(r)}this.grid.push(e)}}},{key:"tallyAndRemoveSpots",value:function(){var t=this;this.squared&&this.addAllSpotsOfColorToMove(),this.squared=!1;var e=this.selectedSpots.length;return this.selectedSpots.forEach(function(e){var n=e.pos,r=n.x,o=n.y;t.grid[o][r]=null;for(var i=o;i>0;i--)t.grid[i][r]=t.grid[i-1][r],t.grid[i-1][r]=null,t.grid[i][r].pos.y=i,t.grid[i][r]&&t.grid[i][r].animateFromPreviousHeight(i-1);var s={x:r,y:0},u=new l.default({pos:s,color:(0,v.randomColor)()});t.grid[0][r]=u,u.animateFromPreviousHeight(-1)}),this.clearMove(),e}}]),t}();e.default=p},function(t,e,n){t.exports={default:n(27),__esModule:!0}},function(t,e,n){n(28),n(29),n(58),n(62),n(78),t.exports=n(7).Set},function(t,e){},function(t,e,n){"use strict";var r=n(30)(!0);n(33)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(31),o=n(32);t.exports=function(t){return function(e,n){var i,s,u=String(o(e)),c=r(n),a=u.length;return c<0||c>=a?t?"":void 0:(i=u.charCodeAt(c),i<55296||i>56319||c+1===a||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):i:t?u.slice(c,c+2):(i-55296<<10)+(s-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(34),o=n(5),i=n(35),s=n(10),u=n(36),c=n(37),a=n(38),f=n(54),l=n(56),h=n(55)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",p="keys",y="values",g=function(){return this};t.exports=function(t,e,n,x,m,S,_){a(n,e,x);var w,b,k,O=function(t){if(!d&&t in M)return M[t];switch(t){case p:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",E=m==y,C=!1,M=t.prototype,A=M[h]||M[v]||m&&M[m],T=A||O(m),R=m?E?O("entries"):T:void 0,L="Array"==e?M.entries||A:A;if(L&&(k=l(L.call(new t)),k!==Object.prototype&&(f(k,P,!0),r||u(k,h)||s(k,h,g))),E&&A&&A.name!==y&&(C=!0,T=function(){return A.call(this)}),r&&!_||!d&&!C&&M[h]||s(M,h,T),c[e]=T,c[P]=g,m)if(w={values:E?T:O(y),keys:S?T:O(p),entries:R},_)for(b in w)b in M||i(M,b,w[b]);else o(o.P+o.F*(d||C),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(10)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(39),o=n(19),i=n(54),s={};n(10)(s,n(55)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(12),o=n(40),i=n(52),s=n(49)("IE_PROTO"),u=function(){},c="prototype",a=function(){var t,e=n(17)("iframe"),r=i.length,o="<",s=">";for(e.style.display="none",n(53).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[s]=t):n=a(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(11),o=n(12),i=n(41);t.exports=n(15)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),u=s.length,c=0;u>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(42),o=n(52);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(36),o=n(43),i=n(46)(!1),s=n(49)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),c=0,a=[];for(n in u)n!=s&&r(u,n)&&a.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(a,n)||a.push(n));return a}},function(t,e,n){var r=n(44),o=n(32);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(43),o=n(47),i=n(48);t.exports=function(t){return function(e,n,s){var u,c=r(e),a=o(c.length),f=i(s,a);if(t&&n!=n){for(;a>f;)if(u=c[f++],u!=u)return!0}else for(;a>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(31),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(31),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(50)("keys"),o=n(51);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(6),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(6).document&&document.documentElement},function(t,e,n){var r=n(11).f,o=n(36),i=n(55)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(50)("wks"),o=n(51),i=n(6).Symbol,s="function"==typeof i,u=t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))};u.store=r},function(t,e,n){var r=n(36),o=n(57),i=n(49)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(32);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(59);for(var r=n(6),o=n(10),i=n(37),s=n(55)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=u[c],f=r[a],l=f&&f.prototype;l&&!l[s]&&o(l,s,a),i[a]=i.Array}},function(t,e,n){"use strict";var r=n(60),o=n(61),i=n(37),s=n(43);t.exports=n(33)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(63);t.exports=n(73)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(11).f,o=n(39),i=n(64),s=n(8),u=n(65),c=n(32),a=n(66),f=n(33),l=n(61),h=n(71),d=n(15),v=n(72).fastKey,p=d?"_s":"size",y=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,f){var l=t(function(t,r){u(t,l,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=r&&a(r,n,t[f],t)});return i(l.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var e=this,n=y(e,t);if(n){var r=n.n,o=n.p;delete e._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),e._f==n&&(e._f=r),e._l==n&&(e._l=o),e[p]--}return!!n},forEach:function(t){u(this,l,"forEach");for(var e,n=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(this,t)}}),d&&r(l.prototype,"size",{get:function(){return c(this[p])}}),l},def:function(t,e,n){var r,o,i=y(t,e);return i?i.v=n:(t._l=i={i:o=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[p]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,e,n){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(8),o=n(67),i=n(68),s=n(12),u=n(47),c=n(69),a={},f={},e=t.exports=function(t,e,n,l,h){var d,v,p,y,g=h?function(){return t}:c(t),x=r(n,l,e?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(d=u(t.length);d>m;m++)if(y=e?x(s(v=t[m])[0],v[1]):x(t[m]),y===a||y===f)return y}else for(p=g.call(t);!(v=p.next()).done;)if(y=o(p,x,v.value,e),y===a||y===f)return y};e.BREAK=a,e.RETURN=f},function(t,e,n){var r=n(12);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(37),o=n(55)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(70),o=n(55)("iterator"),i=n(37);t.exports=n(7).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(45),o=n(55)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e,n){"use strict";var r=n(6),o=n(7),i=n(11),s=n(15),u=n(55)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];s&&e&&!e[u]&&i.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(51)("meta"),o=n(13),i=n(36),s=n(11).f,u=0,c=Object.isExtensible||function(){return!0},a=!n(16)(function(){return c(Object.preventExtensions({}))}),f=function(t){s(t,r,{value:{i:"O"+ ++u,w:{}}})},l=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},h=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&f(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:d}},function(t,e,n){"use strict";var r=n(6),o=n(5),i=n(72),s=n(16),u=n(10),c=n(64),a=n(66),f=n(65),l=n(13),h=n(54),d=n(11).f,v=n(74)(0),p=n(15);t.exports=function(t,e,n,y,g,x){var m=r[t],S=m,_=g?"set":"add",w=S&&S.prototype,b={};return p&&"function"==typeof S&&(x||w.forEach&&!s(function(){(new S).entries().next()}))?(S=e(function(e,n){f(e,S,t,"_c"),e._c=new m,void 0!=n&&a(n,g,e[_],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!x||"clear"!=t)&&u(S.prototype,t,function(n,r){if(f(this,S,t),!e&&x&&!l(n))return"get"==t&&void 0;var o=this._c[t](0===n?0:n,r);return e?this:o})}),"size"in w&&d(S.prototype,"size",{get:function(){return this._c.size}})):(S=y.getConstructor(e,t,g,_),c(S.prototype,n),i.NEED=!0),h(S,t),b[t]=S,o(o.G+o.W+o.F,b),x||y.setStrong(S,t,g),S}},function(t,e,n){var r=n(8),o=n(44),i=n(57),s=n(47),u=n(75);t.exports=function(t,e){var n=1==t,c=2==t,a=3==t,f=4==t,l=6==t,h=5==t||l,d=e||u;return function(e,u,v){for(var p,y,g=i(e),x=o(g),m=r(u,v,3),S=s(x.length),_=0,w=n?d(e,S):c?d(e,0):void 0;S>_;_++)if((h||_ in x)&&(p=x[_],y=m(p,_,g),t))if(n)w[_]=y;else if(y)switch(t){case 3:return!0;case 5:return p;case 6:return _;case 2:w.push(p)}else if(f)return!1;return l?-1:a||f?f:w}}},function(t,e,n){var r=n(76);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(13),o=n(77),i=n(55)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var r=n(45);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(5);r(r.P+r.R,"Set",{toJSON:n(79)("Set")})},function(t,e,n){var r=n(70),o=n(80);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(82),i=r(o),s=n(89),u=r(s),c=n(20),a=r(c),f=n(21),l=r(f),h=n(94),d=n(98),v=function(){function t(e){var n=e.pos,r=e.color;(0,a.default)(this,t),this.pos=n,this.color=r,this.setInactive()}return(0,l.default)(t,[{key:"setCanvasPosForAnimationDown",value:function(t,e){this.downwardAnimation+=.004*e;var n=this.previousY*t+t/2,r=this.pos.y*t+t/2,o=r-n;this.downwardAnimation<1?this.canvasPos.cy=n+o*this.downwardAnimation:(this.downwardAnimation=void 0,this.previousY=void 0)}},{key:"canConnectWith",value:function(t){var e=this.isNeighboring(t.pos),n=this.color===t.color;return e&&n}},{key:"draw",value:function(t,e,n,r){this.setCanvasPos(e),"undefined"!=typeof this.downwardAnimation&&this.setCanvasPosForAnimationDown(e,r),this.isHead&&!this.isMouseOver(n)&&this.setInactive(),t.fillStyle=this.color,t.beginPath(),t.arc(this.canvasPos.cx,this.canvasPos.cy,this.canvasPos.radius,0,2*Math.PI),t.fill(),this.pulsing&&(this.increasePulse(r),this.drawPulse(t,r))}},{key:"drawPulse",value:function(t){t.fillStyle=(0,d.getColorAtReducedOpacity)(this.color,this.pulseOpacity),t.beginPath(),t.arc(this.canvasPos.cx,this.canvasPos.cy,this.pulseRadius,0,2*Math.PI),t.fill()}},{key:"increasePulse",value:function(t){this.pulseRadius+=.08*t,this.pulseOpacity-=.001*t,this.pulseOpacity<0&&(this.pulsing=!1)}},{key:"isNeighboring",value:function(t){var e=this;return(0,u.default)(h.DELTAS).find(function(n){var r=(0,i.default)(n,2),o=r[0],s=r[1],u=s.x,c=s.y;return e.pos.x+u===t.x&&e.pos.y+c===t.y&&o})}},{key:"pulse",value:function(){this.pulsing=!0,this.pulseRadius=this.canvasPos.radius,this.pulseOpacity=.5}},{key:"setActive",value:function(){this.isHead=!0,this.radiusPct=.25,this.pulse()}},{key:"setCanvasPos",value:function(t){this.canvasPos={cx:this.pos.x*t+t/2,cy:this.pos.y*t+t/2,radius:t*this.radiusPct}}},{key:"setInactive",value:function(){this.isHead=!1,this.radiusPct=.22}},{key:"animateFromPreviousHeight",value:function(t){"undefined"==typeof this.downwardAnimation?(this.previousY=t,this.downwardAnimation=1e-4):this.previousY<0&&(this.previousY-=1)}},{key:"isMouseOver",value:function(t){var e=t.x-this.canvasPos.cx,n=t.y-this.canvasPos.cy;return e*e+n*n<=this.canvasPos.radius*this.canvasPos.radius}}]),t}();e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(83),i=r(o),s=n(86),u=r(s);e.default=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=(0,u.default)(t);!(r=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(84),__esModule:!0}},function(t,e,n){n(58),n(29),t.exports=n(85)},function(t,e,n){var r=n(70),o=n(55)("iterator"),i=n(37);t.exports=n(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){n(58),n(29),t.exports=n(88)},function(t,e,n){var r=n(12),o=n(69);t.exports=n(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){t.exports={default:n(90),__esModule:!0}},function(t,e,n){n(91),t.exports=n(7).Object.entries},function(t,e,n){var r=n(5),o=n(92)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){var r=n(41),o=n(43),i=n(93).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=r(s),c=u.length,a=0,f=[];c>a;)i.call(s,n=u[a++])&&f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HIGH_SCORE=e.DELTAS=e.COLORS_ARRAY=e.COLORS=void 0;var o=n(95),i=r(o),s=e.COLORS={PURPLE:"rgba(157, 90, 184, 1)",GREEN:"rgba(138, 237, 145, 1)",BLUE:"rgba(138, 189, 255, 1)",RED:"rgba(241, 92, 59, 1)",YELLOW:"rgba(231, 221, 0, 1)"};e.COLORS_ARRAY=(0,i.default)(s),e.DELTAS={top:{x:0,y:1},right:{x:1,y:0},bottom:{x:0,y:-1},left:{x:-1,y:0}},e.HIGH_SCORE="spots-high-score"},function(t,e,n){t.exports={default:n(96),__esModule:!0}},function(t,e,n){n(97),t.exports=n(7).Object.values},function(t,e,n){var r=n(5),o=n(92)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorAtReducedOpacity=e.getTouchPos=e.getCursorPos=e.fixCanvasBlur=e.getOppositeDelta=e.randomColor=e.queryElAll=e.queryEl=void 0;var r=n(94);e.queryEl=function(t){return document.querySelector(t)},e.queryElAll=function(t){return document.querySelectorAll(t)},e.randomColor=function(){var t=Math.floor(5*Math.random());return r.COLORS_ARRAY[t]},e.getOppositeDelta=function(t){switch(t){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:throw new Error("delta not found in list of deltas")}},e.fixCanvasBlur=function(t){var e=t.getContext("2d"),n=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,o=n/r;if(n!==r){var i=t.width,s=t.height;if(t.width>1.1*window.innerWidth){var u=window.innerWidth/(1.1*t.width);i*=u,s*=u}else if(t.height>1.1*window.innerHeight){var c=window.innerHeight/(1.1*t.height);i*=c,s*=c}t.width=i*o,t.height=s*o,t.style.width=i+"px",t.style.height=s+"px",e.scale(o,o)}},e.getCursorPos=function(t,e){e.preventDefault(),e.stopPropagation();var n=e.clientX-t.offsetLeft,r=e.clientY-t.offsetTop;return{x:n,y:r}},e.getTouchPos=function(t,e){e.preventDefault(),e.stopPropagation();var n=e.touches[0]||e.changedTouches[0],r=n.clientX-t.offsetLeft,o=n.clientY-t.offsetTop;return{x:r,y:o}},e.getColorAtReducedOpacity=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=t.length-2;return""+t.slice(0,n)+e+")"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),i=r(o),s=n(21),u=r(s),c=function(){function t(e){(0,i.default)(this,t),this.startSpot=e}return(0,u.default)(t,[{key:"destroyConnection",value:function(){this.endSpot=void 0}},{key:"draw",value:function(t,e){t.strokeStyle=this.startSpot.color,t.lineWidth=12*(t.canvas.width/1200),t.beginPath(),t.moveTo(this.startSpot.canvasPos.cx,this.startSpot.canvasPos.cy),this.endSpot?t.lineTo(this.endSpot.canvasPos.cx,this.endSpot.canvasPos.cy):t.lineTo(e.x,e.y),t.stroke()}},{key:"forgeConnection",value:function(t){this.endSpot=t}}]),t}();e.default=c}]);
//# sourceMappingURL=bundle.js.map