{"version":3,"sources":["webpack:///webpack/bootstrap 54e87a3ec33d474857eb","webpack:///./src/js/index.js","webpack:///./src/js/util.js","webpack:///./src/js/Game.js","webpack:///./src/js/Board.js","webpack:///./src/js/Spot.js","webpack:///./src/js/constants.js"],"names":["document","addEventListener","canvas","start","queryEl","querySelector","selector","queryElAll","querySelectorAll","randomColor","idx","Math","floor","random","getOppositeDelta","delta","Error","SpotsGame","xDim","offsetWidth","yDim","offsetHeight","ctx","getContext","trackCursor","board","moving","beginMove","cursorPos","console","log","clearRect","draw","animate","render","requestAnimationFrame","trackMoves","x","y","getCursorPos","event","preventDefault","stopPropagation","clientX","offsetLeft","clientY","offsetTop","window","endMove","Board","selectedSpots","setup","spot","setActive","push","firstSpot","findActiveSpot","addSpotToMove","squareSize","grid","length","forEach","row","i","j","isMouseOver","pos","color","Spot","setInactive","otherDot","neighbor","isNeighboring","sameColor","sizeOfSpace","setCanvasPos","fillStyle","beginPath","arc","canvasPos","cx","cy","radius","PI","fill","otherPos","Object","entries","find","radiusPct","dx","dy","COLORS","PURPLE","GREEN","BLUE","RED","YELLOW","COLORS_ARRAY","values","DELTAS","top","right","bottom","left"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AACA;;;;AAEAA,UAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,OAAMC,SAAS,mBAAQ,aAAR,CAAf;AACA,sBAAcA,MAAd,EAAsBC,KAAtB;AACD,EAHD,E;;;;;;;;;;;;;;ACHA;;AAEO,KAAMC,4BAAU,SAAVA,OAAU;AAAA,UAAaJ,SAASK,aAAT,CAAuBC,QAAvB,CAAb;AAAA,EAAhB;AACA,KAAMC,kCAAa,SAAbA,UAAa;AAAA,UAAaP,SAASQ,gBAAT,CAA0BF,QAA1B,CAAb;AAAA,EAAnB;;AAEA,KAAMG,oCAAc,SAAdA,WAAc,GAAM;AAC/B,OAAMC,MAAMC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,CAA3B,CAAZ;AACA,UAAO,wBAAaH,GAAb,CAAP;AACD,EAHM;;AAKA,KAAMI,8CAAmB,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AACzC,WAAQA,KAAR;AACE,UAAK,KAAL;AACE,cAAO,QAAP;AACF,UAAK,OAAL;AACE,cAAO,MAAP;AACF,UAAK,QAAL;AACE,cAAO,KAAP;AACF,UAAK,MAAL;AACE,cAAO,OAAP;AACF;AACE,aAAM,IAAIC,KAAJ,CAAU,mCAAV,CAAN;AAVJ;AAYD,EAbM,C;;;;;;;;;;;;;;;ACVP;;;;;;;;KAEqBC,S;AACnB,sBAAYf,MAAZ,EAAoB;AAAA;;AAClB,UAAKgB,IAAL,GAAYhB,OAAOiB,WAAnB;AACA,UAAKC,IAAL,GAAYlB,OAAOmB,YAAnB;AACA,UAAKC,GAAL,GAAWpB,OAAOqB,UAAP,CAAkB,IAAlB,CAAX;;AAEA,UAAKC,WAAL;;AAEA,UAAKC,KAAL,GAAa,qBAAb;AACD;;;;iCACW;AACV,YAAKC,MAAL,GAAc,IAAd;AACA,YAAKD,KAAL,CAAWE,SAAX,CAAqB,KAAKC,SAA1B;AACD;;;+BACS;AACR,YAAKF,MAAL,GAAc,KAAd;AACAG,eAAQC,GAAR,CAAY,QAAZ;AACD;;;8BACQ;AACP,YAAKR,GAAL,CAASS,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKb,IAA9B,EAAoC,KAAKE,IAAzC;;AAEA,YAAKK,KAAL,CAAWO,IAAX,CAAgB,KAAKV,GAArB,EAA0B,KAAKM,SAA/B;AACD;;;6BACO;AAAA;;AACN,WAAMK,UAAU,SAAVA,OAAU,GAAM;AACpB,eAAKC,MAAL;AACAC,+BAAsBF,OAAtB;AACD,QAHD;AAIAA;AACA,YAAKG,UAAL;AACD;;;mCACa;AAAA;;AACZ,YAAKR,SAAL,GAAiB,EAAES,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAjB;AACA,WAAMC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9BA,eAAMC,cAAN;AACAD,eAAME,eAAN;;AAEA,aAAML,IAAIG,MAAMG,OAAN,GAAgB,OAAKrB,GAAL,CAASpB,MAAT,CAAgB0C,UAA1C;AACA,aAAMN,IAAIE,MAAMK,OAAN,GAAgB,OAAKvB,GAAL,CAASpB,MAAT,CAAgB4C,SAA1C;AACA,gBAAKlB,SAAL,GAAiB,EAAES,IAAF,EAAKC,IAAL,EAAjB;AACD,QAPD;;AASAtC,gBAASC,gBAAT,CAA0B,WAA1B,EAAuCsC,YAAvC;AACD;;;kCACY;AAAA;;AACX,YAAKjB,GAAL,CAASpB,MAAT,CAAgBD,gBAAhB,CAAiC,WAAjC,EAA8C;AAAA,gBAAM,OAAK0B,SAAL,EAAN;AAAA,QAA9C;AACAoB,cAAO9C,gBAAP,CAAwB,SAAxB,EAAmC;AAAA,gBAAM,OAAK+C,OAAL,EAAN;AAAA,QAAnC;AACD;;;;;;mBA/CkB/B,S;;;;;;;;;;;;;;ACFrB;;;;AACA;;;;;;KAEqBgC,K;AACnB,oBAAc;AAAA;;AACZ,UAAKC,aAAL,GAAqB,EAArB;AACA,UAAKC,KAAL;AACD;;;;mCACaC,I,EAAM;AAClBA,YAAKC,SAAL;AACA,YAAKH,aAAL,CAAmBI,IAAnB,CAAwBF,IAAxB;AACD;;;+BACSxB,S,EAAW;AACnB,WAAM2B,YAAY,KAAKC,cAAL,CAAoB5B,SAApB,CAAlB;AACA,WAAI2B,SAAJ,EAAe;AACb,cAAKE,aAAL,CAAmBF,SAAnB;AACD;AACF;;;0BACIjC,G,EAAKM,S,EAAW;AAAA;;AACnB,YAAK8B,UAAL,GAAkBpC,IAAIpB,MAAJ,CAAWiB,WAAX,GAAyB,KAAKwC,IAAL,CAAUC,MAArD;;AAEA,YAAKD,IAAL,CAAUE,OAAV,CAAkB;AAAA,gBAChBC,IAAID,OAAJ,CAAY;AAAA,kBAAQT,KAAKpB,IAAL,CAAUV,GAAV,EAAe,MAAKoC,UAApB,EAAgC9B,SAAhC,CAAR;AAAA,UAAZ,CADgB;AAAA,QAAlB;AAGD;;;oCACcA,S,EAAW;AACxB,YAAK,IAAImC,IAAI,CAAb,EAAgBA,IAAI,KAAKJ,IAAL,CAAUC,MAA9B,EAAsCG,GAAtC,EAA2C;AACzC,cAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKL,IAAL,CAAU,CAAV,EAAaC,MAAjC,EAAyCI,GAAzC,EAA8C;AAC5C,eAAMZ,OAAO,KAAKO,IAAL,CAAUI,CAAV,EAAaC,CAAb,CAAb;AACA,eAAIZ,KAAKa,WAAL,CAAiBrC,SAAjB,CAAJ,EAAiC,OAAOwB,IAAP;AAClC;AACF;;AAED,cAAO,IAAP;AACD;;;6BACO;AACN,YAAKO,IAAL,GAAY,EAAZ;;AAEA,YAAK,IAAIrB,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,aAAMwB,MAAM,EAAZ;AACA,cAAK,IAAIzB,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,eAAMe,OAAO,mBAAS;AACpBc,kBAAK,EAAE7B,IAAF,EAAKC,IAAL,EADe;AAEpB6B,oBAAO;AAFa,YAAT,CAAb;AAIAL,eAAIR,IAAJ,CAASF,IAAT;AACD;AACD,cAAKO,IAAL,CAAUL,IAAV,CAAeQ,GAAf;AACD;AACF;;;;;;mBA9CkBb,K;;;;;;;;;;;;;;;;;ACHrB;;;;KAEqBmB,I;AACnB,uBAA4B;AAAA,SAAdF,GAAc,QAAdA,GAAc;AAAA,SAATC,KAAS,QAATA,KAAS;;AAAA;;AAC1B,UAAKD,GAAL,GAAWA,GAAX;AACA,UAAKC,KAAL,GAAaA,KAAb;AACA,UAAKE,WAAL;AACD;;;;oCACcC,Q,EAAU;AACvB,WAAMC,WAAW,KAAKC,aAAL,CAAmBF,SAASJ,GAA5B,CAAjB;AACA,WAAMO,YAAY,KAAKN,KAAL,KAAeG,SAASH,KAA1C;;AAEA,cAAOI,YAAYE,SAAnB;AACD;;;0BACInD,G,EAAKoD,W,EAAa9C,S,EAAW;AAChC,YAAK+C,YAAL,CAAkBD,WAAlB;;AAEA,WAAI,KAAKT,WAAL,CAAiBrC,SAAjB,CAAJ,EAAiC;AAC/BC,iBAAQC,GAAR,kBAA2B,KAAKoC,GAAL,CAAS7B,CAApC,UAA0C,KAAK6B,GAAL,CAAS5B,CAAnD,WAA0D,KAAK6B,KAA/D;AACD;;AAED7C,WAAIsD,SAAJ,GAAgB,KAAKT,KAArB;AACA7C,WAAIuD,SAAJ;AACAvD,WAAIwD,GAAJ,CAAQ,KAAKC,SAAL,CAAeC,EAAvB,EAA2B,KAAKD,SAAL,CAAeE,EAA1C,EAA8C,KAAKF,SAAL,CAAeG,MAA7D,EAAqE,CAArE,EAAwEvE,KAAKwE,EAAL,GAAU,CAAlF;AACA7D,WAAI8D,IAAJ;AACD;;;mCACaC,Q,EAAU;AAAA;;AACtB,cAAOC,OAAOC,OAAP,oBAAuBC,IAAvB,CAA4B,iBAAuB;AAAA;AAAA,aAArBzE,KAAqB;AAAA;AAAA,aAAZsB,CAAY,UAAZA,CAAY;AAAA,aAATC,CAAS,UAATA,CAAS;;AACxD,aAAI,MAAK4B,GAAL,CAAS7B,CAAT,GAAaA,CAAb,KAAmBgD,SAAShD,CAA5B,IAAiC,MAAK6B,GAAL,CAAS5B,CAAT,GAAaA,CAAb,KAAmB+C,SAAS/C,CAAjE,EAAoE;AAClE,kBAAOvB,KAAP;AACD;AACD,gBAAO,KAAP;AACD,QALM,CAAP;AAMD;;;iCACW;AACV,YAAK0E,SAAL,GAAiB,IAAjB;AACD;;;kCACYf,W,EAAa;AACxB,YAAKK,SAAL,GAAiB;AACfC,aAAI,KAAKd,GAAL,CAAS7B,CAAT,GAAaqC,WAAb,GAA4BA,cAAc,CAD/B;AAEfO,aAAI,KAAKf,GAAL,CAAS5B,CAAT,GAAaoC,WAAb,GAA4BA,cAAc,CAF/B;AAGfQ,iBAAQR,cAAc,KAAKe;AAHZ,QAAjB;AAKD;;;mCACa;AACZ,YAAKA,SAAL,GAAiB,IAAjB;AACD;;;iCACW7D,S,EAAW;AACrB,WAAM8D,KAAK9D,UAAUS,CAAV,GAAc,KAAK0C,SAAL,CAAeC,EAAxC;AACA,WAAMW,KAAK/D,UAAUU,CAAV,GAAc,KAAKyC,SAAL,CAAeE,EAAxC;AACA,cAAQS,KAAKA,EAAL,GAAUC,KAAKA,EAAhB,IAAwB,KAAKZ,SAAL,CAAeG,MAAf,GAAwB,KAAKH,SAAL,CAAeG,MAAtE;AACD;;;;;;mBAjDkBd,I;;;;;;;;;;;ACFd,KAAMwB,0BAAS;AACpBC,WAAQ,SADY;AAEpBC,UAAO,SAFa;AAGpBC,SAAM,SAHc;AAIpBC,QAAK,SAJe;AAKpBC,WAAQ;AALY,EAAf;;AAQA,KAAMC,sCAAeZ,OAAOa,MAAP,CAAcP,MAAd,CAArB;;AAEA,KAAMQ,0BAAS;AACpBC,QAAK,EAAEhE,GAAG,CAAL,EAAQC,GAAG,CAAX,EADe;AAEpBgE,UAAO,EAAEjE,GAAG,CAAL,EAAQC,GAAG,CAAX,EAFa;AAGpBiE,WAAQ,EAAElE,GAAG,CAAL,EAAQC,GAAG,CAAC,CAAZ,EAHY;AAIpBkE,SAAM,EAAEnE,GAAG,CAAC,CAAN,EAASC,GAAG,CAAZ;AAJc,EAAf,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 54e87a3ec33d474857eb","import SpotsGame from './Game';\nimport { queryEl } from './util';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = queryEl('#spots-game');\n  new SpotsGame(canvas).start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import { COLORS_ARRAY, DELTAS } from './constants';\n\nexport const queryEl = selector => (document.querySelector(selector));\nexport const queryElAll = selector => (document.querySelectorAll(selector));\n\nexport const randomColor = () => {\n  const idx = Math.floor(Math.random() * 5);\n  return COLORS_ARRAY[idx];\n};\n\nexport const getOppositeDelta = (delta) => {\n  switch (delta) {\n    case 'top':\n      return 'bottom';\n    case 'right':\n      return 'left';\n    case 'bottom':\n      return 'top';\n    case 'left':\n      return 'right';\n    default:\n      throw new Error('delta not found in list of deltas');\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util.js","import Board from './Board';\n\nexport default class SpotsGame {\n  constructor(canvas) {\n    this.xDim = canvas.offsetWidth;\n    this.yDim = canvas.offsetHeight;\n    this.ctx = canvas.getContext('2d');\n\n    this.trackCursor();\n\n    this.board = new Board();\n  }\n  beginMove() {\n    this.moving = true;\n    this.board.beginMove(this.cursorPos);\n  }\n  endMove() {\n    this.moving = false;\n    console.log('ending');\n  }\n  render() {\n    this.ctx.clearRect(0, 0, this.xDim, this.yDim);\n\n    this.board.draw(this.ctx, this.cursorPos);\n  }\n  start() {\n    const animate = () => {\n      this.render();\n      requestAnimationFrame(animate);\n    };\n    animate();\n    this.trackMoves();\n  }\n  trackCursor() {\n    this.cursorPos = { x: 0, y: 0 };\n    const getCursorPos = (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      const x = event.clientX - this.ctx.canvas.offsetLeft;\n      const y = event.clientY - this.ctx.canvas.offsetTop;\n      this.cursorPos = { x, y };\n    };\n\n    document.addEventListener('mousemove', getCursorPos);\n  }\n  trackMoves() {\n    this.ctx.canvas.addEventListener('mousedown', () => this.beginMove());\n    window.addEventListener('mouseup', () => this.endMove());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Game.js","import Spot from './Spot';\nimport { randomColor } from './util';\n\nexport default class Board {\n  constructor() {\n    this.selectedSpots = [];\n    this.setup();\n  }\n  addSpotToMove(spot) {\n    spot.setActive();\n    this.selectedSpots.push(spot);\n  }\n  beginMove(cursorPos) {\n    const firstSpot = this.findActiveSpot(cursorPos);\n    if (firstSpot) {\n      this.addSpotToMove(firstSpot);\n    }\n  }\n  draw(ctx, cursorPos) {\n    this.squareSize = ctx.canvas.offsetWidth / this.grid.length;\n\n    this.grid.forEach(row => (\n      row.forEach(spot => spot.draw(ctx, this.squareSize, cursorPos))\n    ));\n  }\n  findActiveSpot(cursorPos) {\n    for (let i = 0; i < this.grid.length; i++) {\n      for (let j = 0; j < this.grid[0].length; j++) {\n        const spot = this.grid[i][j];\n        if (spot.isMouseOver(cursorPos)) return spot;\n      }\n    }\n\n    return null;\n  }\n  setup() {\n    this.grid = [];\n\n    for (let y = 0; y < 6; y++) {\n      const row = [];\n      for (let x = 0; x < 6; x++) {\n        const spot = new Spot({\n          pos: { x, y },\n          color: randomColor(),\n        });\n        row.push(spot);\n      }\n      this.grid.push(row);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Board.js","import { DELTAS } from './constants';\n\nexport default class Spot {\n  constructor({ pos, color }) {\n    this.pos = pos;\n    this.color = color;\n    this.setInactive();\n  }\n  canConnectWith(otherDot) {\n    const neighbor = this.isNeighboring(otherDot.pos);\n    const sameColor = this.color === otherDot.color;\n\n    return neighbor && sameColor;\n  }\n  draw(ctx, sizeOfSpace, cursorPos) {\n    this.setCanvasPos(sizeOfSpace);\n\n    if (this.isMouseOver(cursorPos)) {\n      console.log(`mouse over [${this.pos.x}, ${this.pos.y}] (${this.color})`);\n    }\n\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(this.canvasPos.cx, this.canvasPos.cy, this.canvasPos.radius, 0, Math.PI * 2);\n    ctx.fill();\n  }\n  isNeighboring(otherPos) {\n    return Object.entries(DELTAS).find(([delta, { x, y }]) => {\n      if (this.pos.x + x === otherPos.x && this.pos.y + y === otherPos.y) {\n        return delta;\n      }\n      return false;\n    });\n  }\n  setActive() {\n    this.radiusPct = 0.25;\n  }\n  setCanvasPos(sizeOfSpace) {\n    this.canvasPos = {\n      cx: this.pos.x * sizeOfSpace + (sizeOfSpace / 2),\n      cy: this.pos.y * sizeOfSpace + (sizeOfSpace / 2),\n      radius: sizeOfSpace * this.radiusPct,\n    };\n  }\n  setInactive() {\n    this.radiusPct = 0.22;\n  }\n  isMouseOver(cursorPos) {\n    const dx = cursorPos.x - this.canvasPos.cx;\n    const dy = cursorPos.y - this.canvasPos.cy;\n    return (dx * dx + dy * dy) <= (this.canvasPos.radius * this.canvasPos.radius);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Spot.js","export const COLORS = {\n  PURPLE: '#9d5ab7',\n  GREEN: '#89ed90',\n  BLUE: '#8abdff',\n  RED: '#f15c3b',\n  YELLOW: '#e7dd00',\n};\n\nexport const COLORS_ARRAY = Object.values(COLORS);\n\nexport const DELTAS = {\n  top: { x: 0, y: 1 },\n  right: { x: 1, y: 0 },\n  bottom: { x: 0, y: -1 },\n  left: { x: -1, y: 0 },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/constants.js"],"sourceRoot":""}