{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 5c4d4244c948b767d702","webpack:///./src/js/index.js","webpack:///./src/js/Game.js","webpack:///./src/js/Board.js","webpack:///./src/js/Spot.js","webpack:///./src/js/constants.js","webpack:///./src/js/util.js","webpack:///./src/js/Line.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_Game","_Game2","_util","document","addEventListener","canvas","queryEl","game","start","window","location","reload","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Board","_Board2","_constants","SpotsGame","this","xDim","offsetWidth","yDim","offsetHeight","ctx","getContext","fixCanvasBlur","trackCursor","board","setupScoreBoard","setupGameOverText","squared","body","style","backgroundColor","getColorAtReducedOpacity","moveColor","borderColor","moving","beginMove","cursorPos","clearRect","_this","endGameDom","highScoreTextNodes","forEach","span","textContent","highScore","thisScoreTextNode","score","newHighScore","gameOverText","classList","add","remove","canvasContainer","over","updateHighScoreIfBeaten","displayGameOverText","points","endMove","updateScore","movesLeft","end","timeDelta","addBorderAndBG","draw","queryElAll","gameTracker","_this2","animate","time","lastTime","render","clearCanvas","requestAnimationFrame","trackMoves","_this3","x","y","mouseMoveListen","e","getCursorPos","touchMoveListen","getTouchPos","_this4","mouseDownListen","touchStartListen","endMoveListen","parseInt","localStorage","getItem","HIGH_SCORE","Number","isNaN","setItem","arguments","undefined","_Spot","_Spot2","_Line","_Line2","Board","selectedSpots","lines","setup","color","grid","row","spot","find","selected","push","setActive","line","getTailSpot","setInactive","getTailLine","forgeConnection","firstSpot","findActiveSpot","addSpotToMove","clearMove","activeSpot","tail","canConnectWith","connectionAreadyExists","_ref","startSpot","endSpot","spotBeforeTail","getSpotBeforeTail","removeLastConnection","checkForSquares","seenSpots","Set","_ref2","posAsString","pos","has","squareSize","checkForNewConnections","tallyAndRemoveSpots","cancelMove","j","isMouseOver","pop","lastLine","destroyConnection","randomColor","addAllSpotsOfColorToMove","_spot$pos","column","animateFromPreviousHeight","replacementPos","replacementSpot","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","Array","isArray","Spot","sizeOfSpace","downwardAnimation","previousCanvasCY","previousY","currentCanvasCY","differenceInCanvasCY","canvasPos","cy","otherSpot","neighbor","isNeighboring","sameColor","setCanvasPos","setCanvasPosForAnimationDown","isHead","fillStyle","beginPath","arc","cx","radius","Math","PI","fill","pulsing","increasePulse","drawPulse","pulseOpacity","pulseRadius","otherPos","entries","DELTAS","_ref3","delta","_ref3$","radiusPct","pulse","dx","dy","COLORS","PURPLE","GREEN","BLUE","RED","YELLOW","COLORS_ARRAY","values","top","right","bottom","left","getOppositeDelta","selector","querySelector","querySelectorAll","idx","floor","random","Error","context","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","ratio","oldWidth","width","oldHeight","height","innerWidth","shrinkToFitScreenRatio","scale","event","preventDefault","stopPropagation","clientX","offsetLeft","clientY","offsetTop","touch","touches","changedTouches","opacity","opacityIdx","slice","Line","strokeStyle","lineWidth","moveTo","lineTo","stroke"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/js/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Game = __webpack_require__(1);\n\t\n\tvar _Game2 = _interopRequireDefault(_Game);\n\t\n\tvar _util = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t  var canvas = (0, _util.queryEl)('#spots-game');\n\t  var game = new _Game2.default(canvas);\n\t  game.start();\n\t\n\t  (0, _util.queryEl)('#new-game-btn').addEventListener('click', function () {\n\t    return window.location.reload();\n\t  });\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Board = __webpack_require__(2);\n\t\n\tvar _Board2 = _interopRequireDefault(_Board);\n\t\n\tvar _constants = __webpack_require__(4);\n\t\n\tvar _util = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SpotsGame = function () {\n\t  function SpotsGame(canvas) {\n\t    _classCallCheck(this, SpotsGame);\n\t\n\t    this.xDim = canvas.offsetWidth;\n\t    this.yDim = canvas.offsetHeight;\n\t    this.ctx = canvas.getContext('2d');\n\t    (0, _util.fixCanvasBlur)(canvas);\n\t\n\t    this.trackCursor();\n\t\n\t    this.board = new _Board2.default();\n\t    this.setupScoreBoard();\n\t    this.setupGameOverText();\n\t  }\n\t\n\t  _createClass(SpotsGame, [{\n\t    key: 'addBorderAndBG',\n\t    value: function addBorderAndBG() {\n\t      if (this.board.squared) {\n\t        document.body.style.backgroundColor = (0, _util.getColorAtReducedOpacity)(this.board.moveColor, 0.25);\n\t        document.body.style.borderColor = (0, _util.getColorAtReducedOpacity)(this.board.moveColor);\n\t      } else {\n\t        document.body.style.backgroundColor = '';\n\t        document.body.style.borderColor = 'transparent';\n\t      }\n\t    }\n\t  }, {\n\t    key: 'beginMove',\n\t    value: function beginMove() {\n\t      this.moving = true;\n\t      this.board.beginMove(this.cursorPos);\n\t    }\n\t  }, {\n\t    key: 'clearCanvas',\n\t    value: function clearCanvas() {\n\t      this.ctx.clearRect(0, 0, this.xDim, this.yDim);\n\t    }\n\t  }, {\n\t    key: 'displayGameOverText',\n\t    value: function displayGameOverText() {\n\t      var _this = this;\n\t\n\t      this.endGameDom.highScoreTextNodes.forEach(function (span) {\n\t        return span.textContent = _this.highScore;\n\t      });\n\t      this.endGameDom.thisScoreTextNode.textContent = this.score;\n\t      if (this.newHighScore) {\n\t        this.endGameDom.gameOverText.classList.add('new-high-score');\n\t      } else {\n\t        this.endGameDom.gameOverText.classList.remove('new-high-score');\n\t      }\n\t      this.endGameDom.canvasContainer.classList.add('game-over');\n\t    }\n\t  }, {\n\t    key: 'end',\n\t    value: function end() {\n\t      this.over = true;\n\t      this.updateHighScoreIfBeaten();\n\t      this.displayGameOverText();\n\t    }\n\t  }, {\n\t    key: 'endMove',\n\t    value: function endMove() {\n\t      this.moving = false;\n\t      var points = this.board.endMove();\n\t      if (points) {\n\t        this.updateScore(points);\n\t      }\n\t      if (this.movesLeft === 0) {\n\t        this.end();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(timeDelta) {\n\t      this.ctx.clearRect(0, 0, this.xDim, this.yDim);\n\t      this.addBorderAndBG();\n\t\n\t      this.board.draw(this.ctx, this.cursorPos, timeDelta);\n\t    }\n\t  }, {\n\t    key: 'setupGameOverText',\n\t    value: function setupGameOverText() {\n\t      this.endGameDom = {\n\t        canvasContainer: (0, _util.queryEl)('#canvas-container'),\n\t        gameOverText: (0, _util.queryEl)('#game-over-text'),\n\t        highScoreTextNodes: (0, _util.queryElAll)('.high-score-text'),\n\t        thisScoreTextNode: (0, _util.queryEl)('#this-score-text')\n\t      };\n\t    }\n\t  }, {\n\t    key: 'setupScoreBoard',\n\t    value: function setupScoreBoard() {\n\t      this.gameTracker = {\n\t        score: (0, _util.queryEl)('#score'),\n\t        movesLeft: (0, _util.queryEl)('#moves-left')\n\t      };\n\t      this.score = 0;\n\t      this.movesLeft = 31;\n\t      this.updateScore();\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      var _this2 = this;\n\t\n\t      var animate = function animate(time) {\n\t        var timeDelta = time - _this2.lastTime;\n\t        _this2.lastTime = time;\n\t\n\t        _this2.render(timeDelta);\n\t        if (!_this2.over) {\n\t          window.requestAnimationFrame(animate);\n\t        } else {\n\t          _this2.clearCanvas();\n\t        }\n\t      };\n\t      animate(0);\n\t      this.trackMoves();\n\t    }\n\t  }, {\n\t    key: 'trackCursor',\n\t    value: function trackCursor() {\n\t      var _this3 = this;\n\t\n\t      this.cursorPos = { x: 0, y: 0 };\n\t\n\t      var mouseMoveListen = function mouseMoveListen(e) {\n\t        return _this3.cursorPos = (0, _util.getCursorPos)(_this3.ctx.canvas, e);\n\t      };\n\t      var touchMoveListen = function touchMoveListen(e) {\n\t        return _this3.cursorPos = (0, _util.getTouchPos)(_this3.ctx.canvas, e);\n\t      };\n\t\n\t      document.addEventListener('mousemove', mouseMoveListen);\n\t      document.addEventListener('touchmove', touchMoveListen);\n\t    }\n\t  }, {\n\t    key: 'trackMoves',\n\t    value: function trackMoves() {\n\t      var _this4 = this;\n\t\n\t      var mouseDownListen = function mouseDownListen() {\n\t        return _this4.beginMove();\n\t      };\n\t      var touchStartListen = function touchStartListen(e) {\n\t        _this4.cursorPos = (0, _util.getTouchPos)(_this4.ctx.canvas, e);\n\t        _this4.beginMove();\n\t      };\n\t\n\t      this.ctx.canvas.addEventListener('mousedown', mouseDownListen);\n\t      this.ctx.canvas.addEventListener('touchstart', touchStartListen);\n\t\n\t      var endMoveListen = function endMoveListen() {\n\t        return _this4.endMove();\n\t      };\n\t      window.addEventListener('mouseup', endMoveListen);\n\t      window.addEventListener('touchend', endMoveListen);\n\t    }\n\t  }, {\n\t    key: 'updateHighScoreIfBeaten',\n\t    value: function updateHighScoreIfBeaten() {\n\t      this.highScore = parseInt(localStorage.getItem(_constants.HIGH_SCORE), 10);\n\t      this.newHighScore = false;\n\t      if (this.score > this.highScore || Number.isNaN(this.highScore)) {\n\t        this.newHighScore = true;\n\t        this.highScore = this.score;\n\t        localStorage.setItem(_constants.HIGH_SCORE, this.score);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'updateScore',\n\t    value: function updateScore() {\n\t      var points = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\n\t      this.score += points;\n\t      this.movesLeft -= 1;\n\t      this.gameTracker.score.textContent = this.score;\n\t      this.gameTracker.movesLeft.textContent = this.movesLeft;\n\t    }\n\t  }]);\n\t\n\t  return SpotsGame;\n\t}();\n\t\n\texports.default = SpotsGame;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Spot = __webpack_require__(3);\n\t\n\tvar _Spot2 = _interopRequireDefault(_Spot);\n\t\n\tvar _Line = __webpack_require__(6);\n\t\n\tvar _Line2 = _interopRequireDefault(_Line);\n\t\n\tvar _util = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Board = function () {\n\t  function Board() {\n\t    _classCallCheck(this, Board);\n\t\n\t    this.selectedSpots = [];\n\t    this.lines = [];\n\t    this.moveColor = undefined;\n\t    this.setup();\n\t  }\n\t\n\t  _createClass(Board, [{\n\t    key: 'addAllSpotsOfColorToMove',\n\t    value: function addAllSpotsOfColorToMove() {\n\t      var _this = this;\n\t\n\t      var moveColor = this.selectedSpots[0] && this.selectedSpots[0].color;\n\t      this.grid.forEach(function (row) {\n\t        row.forEach(function (spot) {\n\t          if (spot.color === moveColor && !_this.selectedSpots.find(function (selected) {\n\t            return selected === spot;\n\t          })) {\n\t            _this.selectedSpots.push(spot);\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'addSpotToMove',\n\t    value: function addSpotToMove(spot) {\n\t      spot.setActive();\n\t      var line = new _Line2.default(spot);\n\t      if (this.selectedSpots.length) {\n\t        this.getTailSpot().setInactive();\n\t        this.getTailLine().forgeConnection(spot);\n\t      }\n\t      this.selectedSpots.push(spot);\n\t      this.lines.push(line);\n\t    }\n\t  }, {\n\t    key: 'beginMove',\n\t    value: function beginMove(cursorPos) {\n\t      this.moving = true;\n\t      var firstSpot = this.findActiveSpot(cursorPos);\n\t      if (firstSpot) {\n\t        this.addSpotToMove(firstSpot);\n\t      } else {\n\t        this.endMove();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'cancelMove',\n\t    value: function cancelMove() {\n\t      this.selectedSpots.forEach(function (spot) {\n\t        return spot.setInactive();\n\t      });\n\t      this.clearMove();\n\t    }\n\t  }, {\n\t    key: 'checkForNewConnections',\n\t    value: function checkForNewConnections(cursorPos) {\n\t      var activeSpot = this.findActiveSpot(cursorPos);\n\t      var tail = this.getTailSpot();\n\t      if (activeSpot && activeSpot !== tail && tail.canConnectWith(activeSpot)) {\n\t        var connectionAreadyExists = this.lines.find(function (_ref) {\n\t          var startSpot = _ref.startSpot,\n\t              endSpot = _ref.endSpot;\n\t          return startSpot === tail && endSpot === activeSpot || startSpot === activeSpot && endSpot === tail;\n\t        });\n\t\n\t        var spotBeforeTail = this.getSpotBeforeTail();\n\t        if (spotBeforeTail && spotBeforeTail === activeSpot) {\n\t          this.removeLastConnection();\n\t          this.checkForSquares();\n\t        } else if (!connectionAreadyExists) {\n\t          this.addSpotToMove(activeSpot);\n\t          this.checkForSquares();\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'checkForSquares',\n\t    value: function checkForSquares() {\n\t      var _this2 = this;\n\t\n\t      var seenSpots = new Set();\n\t      var squared = false;\n\t      this.lines.forEach(function (_ref2) {\n\t        var startSpot = _ref2.startSpot;\n\t\n\t        var posAsString = startSpot.pos.x + '-' + startSpot.pos.y;\n\t        if (seenSpots.has(posAsString)) {\n\t          squared = true;\n\t        }\n\t        seenSpots.add(posAsString);\n\t      });\n\t\n\t      this.moveColor = this.selectedSpots[0] && this.selectedSpots[0].color;\n\t      this.grid.forEach(function (row) {\n\t        row.forEach(function (spot) {\n\t          if (spot.color === _this2.moveColor && squared) {\n\t            spot.setActive();\n\t          } else if (!_this2.selectedSpots.find(function (selected) {\n\t            return selected === spot;\n\t          })) {\n\t            spot.setInactive();\n\t          }\n\t        });\n\t      });\n\t\n\t      this.squared = squared;\n\t    }\n\t  }, {\n\t    key: 'clearMove',\n\t    value: function clearMove() {\n\t      this.selectedSpots = [];\n\t      this.lines = [];\n\t    }\n\t  }, {\n\t    key: 'draw',\n\t    value: function draw(ctx, cursorPos, timeDelta) {\n\t      var _this3 = this;\n\t\n\t      this.squareSize = ctx.canvas.offsetWidth / this.grid.length;\n\t\n\t      if (this.moving) {\n\t        this.checkForNewConnections(cursorPos);\n\t      }\n\t\n\t      this.grid.forEach(function (row) {\n\t        return row.forEach(function (spot) {\n\t          return spot.draw(ctx, _this3.squareSize, cursorPos, timeDelta);\n\t        });\n\t      });\n\t      this.lines.forEach(function (line) {\n\t        return line.draw(ctx, cursorPos);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'endMove',\n\t    value: function endMove() {\n\t      this.moving = false;\n\t      if (this.selectedSpots.length > 1) {\n\t        return this.tallyAndRemoveSpots();\n\t      }\n\t      return this.cancelMove();\n\t    }\n\t  }, {\n\t    key: 'findActiveSpot',\n\t    value: function findActiveSpot(cursorPos) {\n\t      for (var i = 0; i < this.grid.length; i++) {\n\t        for (var j = 0; j < this.grid[0].length; j++) {\n\t          var spot = this.grid[i][j];\n\t          if (spot.isMouseOver(cursorPos)) return spot;\n\t        }\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'getTailLine',\n\t    value: function getTailLine() {\n\t      return this.lines[this.lines.length - 1];\n\t    }\n\t  }, {\n\t    key: 'getTailSpot',\n\t    value: function getTailSpot() {\n\t      return this.selectedSpots[this.selectedSpots.length - 1];\n\t    }\n\t  }, {\n\t    key: 'getSpotBeforeTail',\n\t    value: function getSpotBeforeTail() {\n\t      if (this.selectedSpots.length < 2) return null;\n\t      return this.selectedSpots[this.selectedSpots.length - 2];\n\t    }\n\t  }, {\n\t    key: 'removeLastConnection',\n\t    value: function removeLastConnection() {\n\t      this.selectedSpots.pop();\n\t      this.lines.pop();\n\t      var lastLine = this.lines[this.lines.length - 1];\n\t      if (lastLine.endSpot) {\n\t        lastLine.destroyConnection();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setup',\n\t    value: function setup() {\n\t      this.grid = [];\n\t\n\t      for (var y = 0; y < 6; y++) {\n\t        var row = [];\n\t        for (var x = 0; x < 6; x++) {\n\t          var spot = new _Spot2.default({\n\t            pos: { x: x, y: y },\n\t            color: (0, _util.randomColor)()\n\t          });\n\t          row.push(spot);\n\t        }\n\t        this.grid.push(row);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'tallyAndRemoveSpots',\n\t    value: function tallyAndRemoveSpots() {\n\t      var _this4 = this;\n\t\n\t      if (this.squared) {\n\t        this.addAllSpotsOfColorToMove();\n\t      }\n\t      this.squared = false;\n\t\n\t      var points = this.selectedSpots.length;\n\t      this.selectedSpots.forEach(function (spot) {\n\t        var _spot$pos = spot.pos,\n\t            column = _spot$pos.x,\n\t            row = _spot$pos.y;\n\t\n\t        _this4.grid[row][column] = null;\n\t        for (var y = row; y > 0; y--) {\n\t          // this swaps out the positions of the spots so that it shifts them \"down\" (higher index)\n\t          _this4.grid[y][column] = _this4.grid[y - 1][column];\n\t          _this4.grid[y - 1][column] = null;\n\t          _this4.grid[y][column].pos.y = y;\n\t\n\t          if (_this4.grid[y][column]) {\n\t            _this4.grid[y][column].animateFromPreviousHeight(y - 1);\n\t          }\n\t        }\n\t        var replacementPos = { x: column, y: 0 };\n\t        var replacementSpot = new _Spot2.default({ pos: replacementPos, color: (0, _util.randomColor)() });\n\t        _this4.grid[0][column] = replacementSpot;\n\t        replacementSpot.animateFromPreviousHeight(-1);\n\t      });\n\t      this.clearMove();\n\t      return points;\n\t    }\n\t  }]);\n\t\n\t  return Board;\n\t}();\n\t\n\texports.default = Board;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _constants = __webpack_require__(4);\n\t\n\tvar _util = __webpack_require__(5);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Spot = function () {\n\t  function Spot(_ref) {\n\t    var pos = _ref.pos,\n\t        color = _ref.color;\n\t\n\t    _classCallCheck(this, Spot);\n\t\n\t    this.pos = pos;\n\t    this.color = color;\n\t    this.setInactive();\n\t  }\n\t\n\t  _createClass(Spot, [{\n\t    key: 'setCanvasPosForAnimationDown',\n\t    value: function setCanvasPosForAnimationDown(sizeOfSpace, timeDelta) {\n\t      this.downwardAnimation += timeDelta * 0.004;\n\t\n\t      var previousCanvasCY = this.previousY * sizeOfSpace + sizeOfSpace / 2;\n\t      var currentCanvasCY = this.pos.y * sizeOfSpace + sizeOfSpace / 2;\n\t      var differenceInCanvasCY = currentCanvasCY - previousCanvasCY;\n\t\n\t      if (this.downwardAnimation < 1) {\n\t        this.canvasPos.cy = previousCanvasCY + differenceInCanvasCY * this.downwardAnimation;\n\t      } else {\n\t        this.downwardAnimation = undefined;\n\t        this.previousY = undefined;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'canConnectWith',\n\t    value: function canConnectWith(otherSpot) {\n\t      var neighbor = this.isNeighboring(otherSpot.pos);\n\t      var sameColor = this.color === otherSpot.color;\n\t\n\t      return neighbor && sameColor;\n\t    }\n\t  }, {\n\t    key: 'draw',\n\t    value: function draw(ctx, sizeOfSpace, cursorPos, timeDelta) {\n\t      this.setCanvasPos(sizeOfSpace);\n\t      if (typeof this.downwardAnimation !== 'undefined') {\n\t        this.setCanvasPosForAnimationDown(sizeOfSpace, timeDelta);\n\t      }\n\t\n\t      if (this.isHead && !this.isMouseOver(cursorPos)) {\n\t        this.setInactive();\n\t      }\n\t\n\t      ctx.fillStyle = this.color;\n\t      ctx.beginPath();\n\t      ctx.arc(this.canvasPos.cx, this.canvasPos.cy, this.canvasPos.radius, 0, Math.PI * 2);\n\t      ctx.fill();\n\t\n\t      if (this.pulsing) {\n\t        this.increasePulse(timeDelta);\n\t        this.drawPulse(ctx, timeDelta);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'drawPulse',\n\t    value: function drawPulse(ctx) {\n\t      ctx.fillStyle = (0, _util.getColorAtReducedOpacity)(this.color, this.pulseOpacity);\n\t      ctx.beginPath();\n\t      ctx.arc(this.canvasPos.cx, this.canvasPos.cy, this.pulseRadius, 0, Math.PI * 2);\n\t      ctx.fill();\n\t    }\n\t  }, {\n\t    key: 'increasePulse',\n\t    value: function increasePulse(timeDelta) {\n\t      this.pulseRadius += 0.08 * timeDelta;\n\t      this.pulseOpacity -= 0.001 * timeDelta;\n\t      if (this.pulseOpacity < 0) {\n\t        this.pulsing = false;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isNeighboring',\n\t    value: function isNeighboring(otherPos) {\n\t      var _this = this;\n\t\n\t      return Object.entries(_constants.DELTAS).find(function (_ref2) {\n\t        var _ref3 = _slicedToArray(_ref2, 2),\n\t            delta = _ref3[0],\n\t            _ref3$ = _ref3[1],\n\t            x = _ref3$.x,\n\t            y = _ref3$.y;\n\t\n\t        if (_this.pos.x + x === otherPos.x && _this.pos.y + y === otherPos.y) {\n\t          return delta;\n\t        }\n\t        return false;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'pulse',\n\t    value: function pulse() {\n\t      this.pulsing = true;\n\t      this.pulseRadius = this.canvasPos.radius;\n\t      this.pulseOpacity = 0.5;\n\t    }\n\t  }, {\n\t    key: 'setActive',\n\t    value: function setActive() {\n\t      this.isHead = true;\n\t      this.radiusPct = 0.25;\n\t      this.pulse();\n\t    }\n\t  }, {\n\t    key: 'setCanvasPos',\n\t    value: function setCanvasPos(sizeOfSpace) {\n\t      this.canvasPos = {\n\t        cx: this.pos.x * sizeOfSpace + sizeOfSpace / 2,\n\t        cy: this.pos.y * sizeOfSpace + sizeOfSpace / 2,\n\t        radius: sizeOfSpace * this.radiusPct\n\t      };\n\t    }\n\t  }, {\n\t    key: 'setInactive',\n\t    value: function setInactive() {\n\t      this.isHead = false;\n\t      this.radiusPct = 0.22;\n\t    }\n\t  }, {\n\t    key: 'animateFromPreviousHeight',\n\t    value: function animateFromPreviousHeight(y) {\n\t      if (typeof this.downwardAnimation === 'undefined') {\n\t        this.previousY = y;\n\t        this.downwardAnimation = 0.0001;\n\t        // handles the case in which multiple new spots are added\n\t      } else if (this.previousY < 0) {\n\t        this.previousY -= 1;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isMouseOver',\n\t    value: function isMouseOver(cursorPos) {\n\t      var dx = cursorPos.x - this.canvasPos.cx;\n\t      var dy = cursorPos.y - this.canvasPos.cy;\n\t      return dx * dx + dy * dy <= this.canvasPos.radius * this.canvasPos.radius;\n\t    }\n\t  }]);\n\t\n\t  return Spot;\n\t}();\n\t\n\texports.default = Spot;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar COLORS = exports.COLORS = {\n\t  PURPLE: 'rgba(157, 90, 184, 1)',\n\t  GREEN: 'rgba(138, 237, 145, 1)',\n\t  BLUE: 'rgba(138, 189, 255, 1)',\n\t  RED: 'rgba(241, 92, 59, 1)',\n\t  YELLOW: 'rgba(231, 221, 0, 1)'\n\t};\n\t\n\tvar COLORS_ARRAY = exports.COLORS_ARRAY = Object.values(COLORS);\n\t\n\tvar DELTAS = exports.DELTAS = {\n\t  top: { x: 0, y: 1 },\n\t  right: { x: 1, y: 0 },\n\t  bottom: { x: 0, y: -1 },\n\t  left: { x: -1, y: 0 }\n\t};\n\t\n\tvar HIGH_SCORE = exports.HIGH_SCORE = 'spots-high-score';\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getColorAtReducedOpacity = exports.getTouchPos = exports.getCursorPos = exports.fixCanvasBlur = exports.getOppositeDelta = exports.randomColor = exports.queryElAll = exports.queryEl = undefined;\n\t\n\tvar _constants = __webpack_require__(4);\n\t\n\tvar queryEl = exports.queryEl = function queryEl(selector) {\n\t  return document.querySelector(selector);\n\t};\n\tvar queryElAll = exports.queryElAll = function queryElAll(selector) {\n\t  return document.querySelectorAll(selector);\n\t};\n\t\n\tvar randomColor = exports.randomColor = function randomColor() {\n\t  var idx = Math.floor(Math.random() * 5);\n\t  return _constants.COLORS_ARRAY[idx];\n\t};\n\t\n\tvar getOppositeDelta = exports.getOppositeDelta = function getOppositeDelta(delta) {\n\t  switch (delta) {\n\t    case 'top':\n\t      return 'bottom';\n\t    case 'right':\n\t      return 'left';\n\t    case 'bottom':\n\t      return 'top';\n\t    case 'left':\n\t      return 'right';\n\t    default:\n\t      throw new Error('delta not found in list of deltas');\n\t  }\n\t};\n\t\n\tvar fixCanvasBlur = exports.fixCanvasBlur = function fixCanvasBlur(canvas) {\n\t  var context = canvas.getContext('2d');\n\t  var devicePixelRatio = window.devicePixelRatio || 1;\n\t  var backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n\t\n\t  var ratio = devicePixelRatio / backingStoreRatio;\n\t\n\t  if (devicePixelRatio !== backingStoreRatio) {\n\t    var oldWidth = canvas.width;\n\t    var oldHeight = canvas.height;\n\t\n\t    if (canvas.width > window.innerWidth * 1.1) {\n\t      var shrinkToFitScreenRatio = window.innerWidth / (canvas.width * 1.1);\n\t      oldWidth *= shrinkToFitScreenRatio;\n\t      oldHeight *= shrinkToFitScreenRatio;\n\t    }\n\t\n\t    canvas.width = oldWidth * ratio;\n\t    canvas.height = oldHeight * ratio;\n\t\n\t    canvas.style.width = oldWidth + 'px';\n\t    canvas.style.height = oldHeight + 'px';\n\t\n\t    context.scale(ratio, ratio);\n\t  }\n\t};\n\t\n\tvar getCursorPos = exports.getCursorPos = function getCursorPos(canvas, event) {\n\t  event.preventDefault();\n\t  event.stopPropagation();\n\t\n\t  var x = event.clientX - canvas.offsetLeft;\n\t  var y = event.clientY - canvas.offsetTop;\n\t\n\t  return { x: x, y: y };\n\t};\n\t\n\tvar getTouchPos = exports.getTouchPos = function getTouchPos(canvas, event) {\n\t  event.preventDefault();\n\t  event.stopPropagation();\n\t\n\t  var touch = event.touches[0] || event.changedTouches[0];\n\t  var x = touch.clientX - canvas.offsetLeft;\n\t  var y = touch.clientY - canvas.offsetTop;\n\t\n\t  return { x: x, y: y };\n\t};\n\t\n\tvar getColorAtReducedOpacity = exports.getColorAtReducedOpacity = function getColorAtReducedOpacity(color) {\n\t  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n\t\n\t  var opacityIdx = color.length - 2;\n\t  return '' + color.slice(0, opacityIdx) + opacity + ')';\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Line = function () {\n\t  function Line(startSpot) {\n\t    _classCallCheck(this, Line);\n\t\n\t    this.startSpot = startSpot;\n\t  }\n\t\n\t  _createClass(Line, [{\n\t    key: \"destroyConnection\",\n\t    value: function destroyConnection() {\n\t      this.endSpot = undefined;\n\t    }\n\t  }, {\n\t    key: \"draw\",\n\t    value: function draw(ctx, cursorPos) {\n\t      ctx.strokeStyle = this.startSpot.color;\n\t      ctx.lineWidth = 12 * (ctx.canvas.width / 1200);\n\t      ctx.beginPath();\n\t      ctx.moveTo(this.startSpot.canvasPos.cx, this.startSpot.canvasPos.cy);\n\t      if (this.endSpot) {\n\t        ctx.lineTo(this.endSpot.canvasPos.cx, this.endSpot.canvasPos.cy);\n\t      } else {\n\t        ctx.lineTo(cursorPos.x, cursorPos.y);\n\t      }\n\t      ctx.stroke();\n\t    }\n\t  }, {\n\t    key: \"forgeConnection\",\n\t    value: function forgeConnection(endSpot) {\n\t      this.endSpot = endSpot;\n\t    }\n\t  }]);\n\t\n\t  return Line;\n\t}();\n\t\n\texports.default = Line;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5c4d4244c948b767d702","import SpotsGame from './Game';\nimport { queryEl } from './util';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = queryEl('#spots-game');\n  const game = new SpotsGame(canvas);\n  game.start();\n\n  queryEl('#new-game-btn').addEventListener('click', () => window.location.reload());\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import Board from './Board';\nimport { HIGH_SCORE } from './constants';\nimport {\n  fixCanvasBlur,\n  getCursorPos,\n  getTouchPos,\n  getColorAtReducedOpacity,\n  queryEl,\n  queryElAll,\n} from './util';\n\nexport default class SpotsGame {\n  constructor(canvas) {\n    this.xDim = canvas.offsetWidth;\n    this.yDim = canvas.offsetHeight;\n    this.ctx = canvas.getContext('2d');\n    fixCanvasBlur(canvas);\n\n    this.trackCursor();\n\n    this.board = new Board();\n    this.setupScoreBoard();\n    this.setupGameOverText();\n  }\n  addBorderAndBG() {\n    if (this.board.squared) {\n      document.body.style.backgroundColor = getColorAtReducedOpacity(this.board.moveColor, 0.25);\n      document.body.style.borderColor = getColorAtReducedOpacity(this.board.moveColor);\n    } else {\n      document.body.style.backgroundColor = '';\n      document.body.style.borderColor = 'transparent';\n    }\n  }\n  beginMove() {\n    this.moving = true;\n    this.board.beginMove(this.cursorPos);\n  }\n  clearCanvas() {\n    this.ctx.clearRect(0, 0, this.xDim, this.yDim);\n  }\n  displayGameOverText() {\n    this.endGameDom.highScoreTextNodes.forEach(span => span.textContent = this.highScore);\n    this.endGameDom.thisScoreTextNode.textContent = this.score;\n    if (this.newHighScore) {\n      this.endGameDom.gameOverText.classList.add('new-high-score');\n    } else {\n      this.endGameDom.gameOverText.classList.remove('new-high-score');\n    }\n    this.endGameDom.canvasContainer.classList.add('game-over');\n  }\n  end() {\n    this.over = true;\n    this.updateHighScoreIfBeaten();\n    this.displayGameOverText();\n  }\n  endMove() {\n    this.moving = false;\n    const points = this.board.endMove();\n    if (points) {\n      this.updateScore(points);\n    }\n    if (this.movesLeft === 0) {\n      this.end();\n    }\n  }\n  render(timeDelta) {\n    this.ctx.clearRect(0, 0, this.xDim, this.yDim);\n    this.addBorderAndBG();\n\n    this.board.draw(this.ctx, this.cursorPos, timeDelta);\n  }\n  setupGameOverText() {\n    this.endGameDom = {\n      canvasContainer: queryEl('#canvas-container'),\n      gameOverText: queryEl('#game-over-text'),\n      highScoreTextNodes: queryElAll('.high-score-text'),\n      thisScoreTextNode: queryEl('#this-score-text'),\n    };\n  }\n  setupScoreBoard() {\n    this.gameTracker = {\n      score: queryEl('#score'),\n      movesLeft: queryEl('#moves-left'),\n    };\n    this.score = 0;\n    this.movesLeft = 31;\n    this.updateScore();\n  }\n  start() {\n    const animate = (time) => {\n      const timeDelta = time - this.lastTime;\n      this.lastTime = time;\n\n      this.render(timeDelta);\n      if (!this.over) {\n        window.requestAnimationFrame(animate);\n      } else {\n        this.clearCanvas();\n      }\n    };\n    animate(0);\n    this.trackMoves();\n  }\n  trackCursor() {\n    this.cursorPos = { x: 0, y: 0 };\n\n    const mouseMoveListen = (e) => (this.cursorPos = getCursorPos(this.ctx.canvas, e));\n    const touchMoveListen = (e) => (this.cursorPos = getTouchPos(this.ctx.canvas, e));\n\n    document.addEventListener('mousemove', mouseMoveListen);\n    document.addEventListener('touchmove', touchMoveListen);\n  }\n  trackMoves() {\n    const mouseDownListen = () => this.beginMove();\n    const touchStartListen = (e) => {\n      this.cursorPos = getTouchPos(this.ctx.canvas, e);\n      this.beginMove();\n    };\n\n    this.ctx.canvas.addEventListener('mousedown', mouseDownListen);\n    this.ctx.canvas.addEventListener('touchstart', touchStartListen);\n\n    const endMoveListen = () => this.endMove();\n    window.addEventListener('mouseup', endMoveListen);\n    window.addEventListener('touchend', endMoveListen);\n  }\n  updateHighScoreIfBeaten() {\n    this.highScore = parseInt(localStorage.getItem(HIGH_SCORE), 10);\n    this.newHighScore = false;\n    if (this.score > this.highScore || Number.isNaN(this.highScore)) {\n      this.newHighScore = true;\n      this.highScore = this.score;\n      localStorage.setItem(HIGH_SCORE, this.score);\n    }\n  }\n  updateScore(points = 0) {\n    this.score += points;\n    this.movesLeft -= 1;\n    this.gameTracker.score.textContent = this.score;\n    this.gameTracker.movesLeft.textContent = this.movesLeft;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Game.js","import Spot from './Spot';\nimport Line from './Line';\nimport { randomColor } from './util';\n\nexport default class Board {\n  constructor() {\n    this.selectedSpots = [];\n    this.lines = [];\n    this.moveColor = undefined;\n    this.setup();\n  }\n  addAllSpotsOfColorToMove() {\n    const moveColor = this.selectedSpots[0] && this.selectedSpots[0].color;\n    this.grid.forEach(row => {\n      row.forEach(spot => {\n        if (spot.color === moveColor && !this.selectedSpots.find(selected => selected === spot)) {\n          this.selectedSpots.push(spot);\n        }\n      });\n    });\n  }\n  addSpotToMove(spot) {\n    spot.setActive();\n    const line = new Line(spot);\n    if (this.selectedSpots.length) {\n      this.getTailSpot().setInactive();\n      this.getTailLine().forgeConnection(spot);\n    }\n    this.selectedSpots.push(spot);\n    this.lines.push(line);\n  }\n  beginMove(cursorPos) {\n    this.moving = true;\n    const firstSpot = this.findActiveSpot(cursorPos);\n    if (firstSpot) {\n      this.addSpotToMove(firstSpot);\n    } else {\n      this.endMove();\n    }\n  }\n  cancelMove() {\n    this.selectedSpots.forEach(spot => spot.setInactive());\n    this.clearMove();\n  }\n  checkForNewConnections(cursorPos) {\n    const activeSpot = this.findActiveSpot(cursorPos);\n    const tail = this.getTailSpot();\n    if (activeSpot && activeSpot !== tail && tail.canConnectWith(activeSpot)) {\n      const connectionAreadyExists = this.lines.find(({ startSpot, endSpot }) => (\n        (startSpot === tail && endSpot === activeSpot) ||\n        (startSpot === activeSpot && endSpot === tail)\n      ));\n\n      const spotBeforeTail = this.getSpotBeforeTail();\n      if (spotBeforeTail && spotBeforeTail === activeSpot) {\n        this.removeLastConnection();\n        this.checkForSquares();\n      } else if (!connectionAreadyExists) {\n        this.addSpotToMove(activeSpot);\n        this.checkForSquares();\n      }\n    }\n  }\n  checkForSquares() {\n    const seenSpots = new Set();\n    let squared = false;\n    this.lines.forEach(({ startSpot }) => {\n      const posAsString = `${startSpot.pos.x}-${startSpot.pos.y}`;\n      if (seenSpots.has(posAsString)) {\n        squared = true;\n      }\n      seenSpots.add(posAsString);\n    });\n\n    this.moveColor = this.selectedSpots[0] && this.selectedSpots[0].color;\n    this.grid.forEach(row => {\n      row.forEach(spot => {\n        if (spot.color === this.moveColor && squared) {\n          spot.setActive();\n        } else if (!this.selectedSpots.find(selected => selected === spot)) {\n          spot.setInactive();\n        }\n      });\n    });\n\n    this.squared = squared;\n  }\n  clearMove() {\n    this.selectedSpots = [];\n    this.lines = [];\n  }\n  draw(ctx, cursorPos, timeDelta) {\n    this.squareSize = ctx.canvas.offsetWidth / this.grid.length;\n\n    if (this.moving) {\n      this.checkForNewConnections(cursorPos);\n    }\n\n    this.grid.forEach(row => (\n      row.forEach(spot => spot.draw(ctx, this.squareSize, cursorPos, timeDelta))\n    ));\n    this.lines.forEach(line => line.draw(ctx, cursorPos));\n  }\n  endMove() {\n    this.moving = false;\n    if (this.selectedSpots.length > 1) {\n      return this.tallyAndRemoveSpots();\n    }\n    return this.cancelMove();\n  }\n  findActiveSpot(cursorPos) {\n    for (let i = 0; i < this.grid.length; i++) {\n      for (let j = 0; j < this.grid[0].length; j++) {\n        const spot = this.grid[i][j];\n        if (spot.isMouseOver(cursorPos)) return spot;\n      }\n    }\n\n    return null;\n  }\n  getTailLine() {\n    return this.lines[this.lines.length - 1];\n  }\n  getTailSpot() {\n    return this.selectedSpots[this.selectedSpots.length - 1];\n  }\n  getSpotBeforeTail() {\n    if (this.selectedSpots.length < 2) return null;\n    return this.selectedSpots[this.selectedSpots.length - 2];\n  }\n  removeLastConnection() {\n    this.selectedSpots.pop();\n    this.lines.pop();\n    const lastLine = this.lines[this.lines.length - 1];\n    if (lastLine.endSpot) {\n      lastLine.destroyConnection();\n    }\n  }\n  setup() {\n    this.grid = [];\n\n    for (let y = 0; y < 6; y++) {\n      const row = [];\n      for (let x = 0; x < 6; x++) {\n        const spot = new Spot({\n          pos: { x, y },\n          color: randomColor(),\n        });\n        row.push(spot);\n      }\n      this.grid.push(row);\n    }\n  }\n  tallyAndRemoveSpots() {\n    if (this.squared) {\n      this.addAllSpotsOfColorToMove();\n    }\n    this.squared = false;\n\n    const points = this.selectedSpots.length;\n    this.selectedSpots.forEach(spot => {\n      const { x: column, y: row } = spot.pos;\n      this.grid[row][column] = null;\n      for (let y = row; y > 0; y--) {\n        // this swaps out the positions of the spots so that it shifts them \"down\" (higher index)\n        this.grid[y][column] = this.grid[y - 1][column];\n        this.grid[y - 1][column] = null;\n        this.grid[y][column].pos.y = y;\n\n        if (this.grid[y][column]) {\n          this.grid[y][column].animateFromPreviousHeight(y - 1);\n        }\n      }\n      const replacementPos = { x: column, y: 0 };\n      const replacementSpot = new Spot({ pos: replacementPos, color: randomColor() });\n      this.grid[0][column] = replacementSpot;\n      replacementSpot.animateFromPreviousHeight(-1);\n    });\n    this.clearMove();\n    return points;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Board.js","import { DELTAS } from './constants';\nimport { getColorAtReducedOpacity } from './util';\n\nexport default class Spot {\n  constructor({ pos, color }) {\n    this.pos = pos;\n    this.color = color;\n    this.setInactive();\n  }\n  setCanvasPosForAnimationDown(sizeOfSpace, timeDelta) {\n    this.downwardAnimation += (timeDelta * 0.004);\n\n    const previousCanvasCY = this.previousY * sizeOfSpace + (sizeOfSpace / 2);\n    const currentCanvasCY = this.pos.y * sizeOfSpace + (sizeOfSpace / 2);\n    const differenceInCanvasCY = currentCanvasCY - previousCanvasCY;\n\n    if (this.downwardAnimation < 1) {\n      this.canvasPos.cy = previousCanvasCY + (differenceInCanvasCY * this.downwardAnimation);\n    } else {\n      this.downwardAnimation = undefined;\n      this.previousY = undefined;\n    }\n  }\n  canConnectWith(otherSpot) {\n    const neighbor = this.isNeighboring(otherSpot.pos);\n    const sameColor = this.color === otherSpot.color;\n\n    return neighbor && sameColor;\n  }\n  draw(ctx, sizeOfSpace, cursorPos, timeDelta) {\n    this.setCanvasPos(sizeOfSpace);\n    if (typeof this.downwardAnimation !== 'undefined') {\n      this.setCanvasPosForAnimationDown(sizeOfSpace, timeDelta);\n    }\n\n    if (this.isHead && !this.isMouseOver(cursorPos)) {\n      this.setInactive();\n    }\n\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(this.canvasPos.cx, this.canvasPos.cy, this.canvasPos.radius, 0, Math.PI * 2);\n    ctx.fill();\n\n    if (this.pulsing) {\n      this.increasePulse(timeDelta);\n      this.drawPulse(ctx, timeDelta);\n    }\n  }\n  drawPulse(ctx) {\n    ctx.fillStyle = getColorAtReducedOpacity(this.color, this.pulseOpacity);\n    ctx.beginPath();\n    ctx.arc(this.canvasPos.cx, this.canvasPos.cy, this.pulseRadius, 0, Math.PI * 2);\n    ctx.fill();\n  }\n  increasePulse(timeDelta) {\n    this.pulseRadius += (0.08 * timeDelta);\n    this.pulseOpacity -= (0.001 * timeDelta);\n    if (this.pulseOpacity < 0) {\n      this.pulsing = false;\n    }\n  }\n  isNeighboring(otherPos) {\n    return Object.entries(DELTAS).find(([delta, { x, y }]) => {\n      if (this.pos.x + x === otherPos.x && this.pos.y + y === otherPos.y) {\n        return delta;\n      }\n      return false;\n    });\n  }\n  pulse() {\n    this.pulsing = true;\n    this.pulseRadius = this.canvasPos.radius;\n    this.pulseOpacity = 0.5;\n  }\n  setActive() {\n    this.isHead = true;\n    this.radiusPct = 0.25;\n    this.pulse();\n  }\n  setCanvasPos(sizeOfSpace) {\n    this.canvasPos = {\n      cx: this.pos.x * sizeOfSpace + (sizeOfSpace / 2),\n      cy: this.pos.y * sizeOfSpace + (sizeOfSpace / 2),\n      radius: sizeOfSpace * this.radiusPct,\n    };\n  }\n  setInactive() {\n    this.isHead = false;\n    this.radiusPct = 0.22;\n  }\n  animateFromPreviousHeight(y) {\n    if (typeof this.downwardAnimation === 'undefined') {\n      this.previousY = y;\n      this.downwardAnimation = 0.0001;\n      // handles the case in which multiple new spots are added\n    } else if (this.previousY < 0) {\n      this.previousY -= 1;\n    }\n  }\n  isMouseOver(cursorPos) {\n    const dx = cursorPos.x - this.canvasPos.cx;\n    const dy = cursorPos.y - this.canvasPos.cy;\n    return (dx * dx + dy * dy) <= (this.canvasPos.radius * this.canvasPos.radius);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Spot.js","export const COLORS = {\n  PURPLE: 'rgba(157, 90, 184, 1)',\n  GREEN: 'rgba(138, 237, 145, 1)',\n  BLUE: 'rgba(138, 189, 255, 1)',\n  RED: 'rgba(241, 92, 59, 1)',\n  YELLOW: 'rgba(231, 221, 0, 1)',\n};\n\nexport const COLORS_ARRAY = Object.values(COLORS);\n\nexport const DELTAS = {\n  top: { x: 0, y: 1 },\n  right: { x: 1, y: 0 },\n  bottom: { x: 0, y: -1 },\n  left: { x: -1, y: 0 },\n};\n\nexport const HIGH_SCORE = 'spots-high-score';\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/constants.js","import { COLORS_ARRAY } from './constants';\n\nexport const queryEl = selector => (document.querySelector(selector));\nexport const queryElAll = selector => (document.querySelectorAll(selector));\n\nexport const randomColor = () => {\n  const idx = Math.floor(Math.random() * 5);\n  return COLORS_ARRAY[idx];\n};\n\nexport const getOppositeDelta = (delta) => {\n  switch (delta) {\n    case 'top':\n      return 'bottom';\n    case 'right':\n      return 'left';\n    case 'bottom':\n      return 'top';\n    case 'left':\n      return 'right';\n    default:\n      throw new Error('delta not found in list of deltas');\n  }\n};\n\nexport const fixCanvasBlur = (canvas) => {\n  const context = canvas.getContext('2d');\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = context.webkitBackingStorePixelRatio ||\n                            context.mozBackingStorePixelRatio ||\n                            context.msBackingStorePixelRatio ||\n                            context.oBackingStorePixelRatio ||\n                            context.backingStorePixelRatio || 1;\n\n  const ratio = devicePixelRatio / backingStoreRatio;\n\n  if (devicePixelRatio !== backingStoreRatio) {\n    let oldWidth = canvas.width;\n    let oldHeight = canvas.height;\n\n    if (canvas.width > (window.innerWidth * 1.1)) {\n      const shrinkToFitScreenRatio = window.innerWidth / (canvas.width * 1.1);\n      oldWidth *= shrinkToFitScreenRatio;\n      oldHeight *= shrinkToFitScreenRatio;\n    }\n\n    canvas.width = oldWidth * ratio;\n    canvas.height = oldHeight * ratio;\n\n    canvas.style.width = `${oldWidth}px`;\n    canvas.style.height = `${oldHeight}px`;\n\n    context.scale(ratio, ratio);\n  }\n};\n\nexport const getCursorPos = (canvas, event) => {\n  event.preventDefault();\n  event.stopPropagation();\n\n  const x = event.clientX - canvas.offsetLeft;\n  const y = event.clientY - canvas.offsetTop;\n\n  return { x, y };\n};\n\nexport const getTouchPos = (canvas, event) => {\n  event.preventDefault();\n  event.stopPropagation();\n\n  const touch = event.touches[0] || event.changedTouches[0];\n  const x = touch.clientX - canvas.offsetLeft;\n  const y = touch.clientY - canvas.offsetTop;\n\n  return { x, y };\n};\n\nexport const getColorAtReducedOpacity = (color, opacity = 0.5) => {\n  const opacityIdx = color.length - 2;\n  return `${color.slice(0, opacityIdx)}${opacity})`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util.js","export default class Line {\n  constructor(startSpot) {\n    this.startSpot = startSpot;\n  }\n  destroyConnection() {\n    this.endSpot = undefined;\n  }\n  draw(ctx, cursorPos) {\n    ctx.strokeStyle = this.startSpot.color;\n    ctx.lineWidth = 12 * (ctx.canvas.width / 1200);\n    ctx.beginPath();\n    ctx.moveTo(this.startSpot.canvasPos.cx, this.startSpot.canvasPos.cy);\n    if (this.endSpot) {\n      ctx.lineTo(this.endSpot.canvasPos.cx, this.endSpot.canvasPos.cy);\n    } else {\n      ctx.lineTo(cursorPos.x, cursorPos.y);\n    }\n    ctx.stroke();\n  }\n  forgeConnection(endSpot) {\n    this.endSpot = endSpot;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Line.js"],"sourceRoot":""}