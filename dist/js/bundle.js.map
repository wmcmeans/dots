{"version":3,"sources":["webpack:///webpack/bootstrap da4d29498cc6046eb2d9","webpack:///./src/js/index.js","webpack:///./src/js/board.js","webpack:///./src/js/game.js","webpack:///./src/js/dotsView.js","webpack:///./src/js/util.js"],"names":["document","on","rootEl","NEIGHBORS","top","right","bottom","left","dotIdCounter","Dot","options","pos","color","occupiedEntries","isHead","id","prototype","canConnectWith","otherDot","relativeLocation","findNeighbor","sameColor","location","x","y","isSquared","connections","Board","selectedDots","setup","colors","randomColor","idx","Math","floor","random","dotSort","dot1","dot2","formConnection","newSpot","prevTail","selectionTail","exit","entry","getOppositeEntry","push","removeLastConnection","length","newestConnection","pop","lastIdx","lastEntryPoint","lastConnection","resetSelections","forEach","dot","selectedColor","startConnection","headDot","anySquares","anySquare","find","adjustForSquares","i","j","grid","column","update","sortedDots","sort","dotColumn","dotRow","splice","bind","module","exports","Game","board","moves","score","scoreDots","points","clearMove","beginMove","spotPos","startSpot","addSpotToSelection","prevDot","newDot","revertSelection","over","require","View","$el","renderMenu","newGame","event","game","newHighScore","renderGame","setupScoreBoard","setupGrid","render","$","window","endMove","click","preventDefault","target","classList","dotPos","addClass","e","newPos","parseInt","activateHTMLConnection","exitEdge","closestEdge","updateHTMLConnections","removeClass","dots","updateConnectionClass","htmlId","getPossibleHTMLIds","unbind","attr","setHighScore","updateScore","updateSpots","renderSpotDrops","highScore","localStorage","getItem","setItem","spot","spotX","spotY","spotNode","$spot","filter","hasClass","before","emptyNodes","animate","height","remove","getDirectionsHTML","html","getGameOverHTML","$moves","$score","spots","verticalConnections","horizontalConnections","append","$connections","closestEdgeFromDimensions","pageX","offset","pageY","width","w","h","topEdgeDist","distMetric","bottomEdgeDist","leftEdgeDist","rightEdgeDist","min","x2","y2","xDiff","yDiff","queryEl","querySelector","selector","queryElAll","querySelectorAll"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap da4d29498cc6046eb2d9","import DotsView from './dotsView';\nimport { queryEl } from './util';\n\n\ndocument.on('DOMContentLoaded', () => {\n  const rootEl = queryEl('.dots-game');\n  new DotsView(rootEl);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","var NEIGHBORS = {\n  top: [0, 1],\n  right: [1, 0],\n  bottom: [0, -1],\n  left: [-1, 0]\n};\n\nvar dotIdCounter = 0;\n\nvar Dot = function (options) {\n  this.pos = options.pos;\n  this.color = options.color;\n  this.occupiedEntries = {};\n  this.isHead = false;\n\n  this.id = dotIdCounter;\n  dotIdCounter++;\n};\n\nDot.prototype.canConnectWith = function (otherDot) {\n  var relativeLocation = this.findNeighbor(otherDot);\n  var sameColor = this.color === otherDot.color;\n\n  if (relativeLocation && sameColor) {\n    return !this.occupiedEntries[relativeLocation];\n  }\n};\n\nDot.prototype.findNeighbor = function (otherDot) {\n  for (var location in NEIGHBORS) {\n    var x = NEIGHBORS[location][0];\n    var y = NEIGHBORS[location][1];\n    if (this.pos[0] + x === otherDot.pos[0] && this.pos[1] + y === otherDot.pos[1]) {\n      return location;\n    }\n  }\n\n  return null;\n};\n\nDot.prototype.isSquared = function () {\n  var connections = 0;\n  for (var location in this.occupiedEntries) {\n    if (this.occupiedEntries[location]) {\n      connections++;\n    }\n  }\n\n  return (connections > 2 || connections === 2 && this.isHead);\n};\n\nvar Board = function () {\n  this.selectedDots = [];\n  this.setup();\n};\n\nBoard.colors = [\n  \"purple\",\n  \"green\",\n  \"blue\",\n  \"red\",\n  \"yellow\"\n];\n\nvar randomColor = function () {\n  var idx = Math.floor(Math.random() * 5);\n  return Board.colors[idx];\n};\n\nvar dotSort = function (dot1, dot2) {\n  if (dot1.pos[0] === dot2.pos[0]) {\n    // sort so that higher dot is removed first/doesn't disrupt other positions\n    if (dot1.pos[1] > dot2.pos[1]) {\n      return -1;\n    } else {\n      return 1;\n    }\n  } else if (dot1.pos[0] > dot2.pos[0]) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\nBoard.prototype.formConnection = function (newSpot) {\n  var prevTail = this.selectionTail();\n  var exit = prevTail.findNeighbor(newSpot);\n  var entry = getOppositeEntry(exit);\n\n  prevTail.occupiedEntries[exit] = true;\n  newSpot.occupiedEntries[entry] = true;\n\n  this.selectedDots.push(newSpot);\n};\n\nBoard.prototype.removeLastConnection = function () {\n  if (this.selectedDots.length < 2) {\n    return;\n  }\n  var newestConnection = this.newestConnection();\n  var entry = newestConnection[1].findNeighbor(newestConnection[0]);\n  var exit = getOppositeEntry(entry);\n\n  newestConnection[1].occupiedEntries[entry] = false;\n  newestConnection[0].occupiedEntries[exit] = false;\n\n  this.selectedDots.pop();\n};\n\nBoard.prototype.newestConnection = function () {\n  if (this.selectedDots.length < 2) {\n    return;\n  }\n  var lastIdx = this.selectedDots.length - 1;\n  return [ this.selectedDots[lastIdx - 1], this.selectedDots[lastIdx] ];\n};\n\nBoard.prototype.lastEntryPoint = function () {\n  var lastConnection = this.newestConnection();\n  if (!lastConnection) {\n    return;\n  }\n  return lastConnection[1].findNeighbor(lastConnection[0]);\n};\n\nBoard.prototype.resetSelections = function () {\n  if (this.selectedDots[0]) {\n    this.selectedDots[0].isHead = false;\n  }\n  this.selectedDots.forEach(function (dot) {\n    dot.occupiedEntries = {};\n  });\n  this.selectedDots = [];\n};\n\nBoard.prototype.selectedColor = function () {\n  return this.selectedDots[0].color;\n};\n\nBoard.prototype.startConnection = function (headDot) {\n  this.selectedDots = [headDot];\n};\n\nBoard.prototype.selectionTail = function () {\n  return this.selectedDots[this.selectedDots.length - 1];\n};\n\nBoard.prototype.anySquares = function () {\n  var anySquare = this.selectedDots.find(function (dot) {\n    if (dot.isSquared()) {\n      return true;\n    }\n  });\n\n  return anySquare;\n};\n\nBoard.prototype.adjustForSquares = function () {\n  if (this.anySquares()) {\n    var selectedColor = this.selectedDots[0].color;\n\n    this.selectedDots = [];\n    for (var i = 0; i < 6; i++) {\n      for (var j = 0; j < 6; j++) {\n        if (this.grid[i][j].color === selectedColor) {\n          this.selectedDots.push(this.grid[i][j]);\n        }\n      }\n    }\n  }\n};\n\nBoard.prototype.setup = function () {\n  this.grid = [];\n\n  for (var x = 0; x < 6; x++) {\n    var column = [];\n    for (var y = 0; y < 6; y++) {\n      var dot = new Dot({\n        pos: [x, y],\n        color: randomColor()\n      });\n      column.push(dot);\n    }\n    this.grid.push(column);\n  }\n};\n\n\nBoard.prototype.update = function () {\n  var sortedDots = this.selectedDots.sort(dotSort);\n\n  this.selectedDots.forEach(function (dot) {\n    var dotColumn = dot.pos[0];\n    var dotRow = dot.pos[1];\n\n    this.grid[dotColumn].splice(dotRow, 1);\n\n    for (var i = dotRow; i < 5; i++) {\n      this.grid[dotColumn][i].pos[1] = i;\n    }\n\n    this.grid[dotColumn].push(\n      new Dot({\n        pos: [dotColumn, i],\n        color: randomColor()\n      })\n    );\n\n  }.bind(this));\n};\n\nfunction getOppositeEntry(location) {\n  switch (location) {\n    case \"top\":\n      return \"bottom\";\n    case \"right\":\n      return \"left\";\n    case \"bottom\":\n      return \"top\";\n    case \"left\":\n      return \"right\";\n  }\n}\n\nmodule.exports = Board;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/board.js","var Game = function (board, moves) {\n  this.board = board;\n  this.moves = moves || 30;\n  this.score = 0;\n\n};\n\nGame.prototype.scoreDots = function () {\n  var points = this.board.selectedDots.length;\n  if (points > 1) {\n    this.board.adjustForSquares();\n    this.score += points;\n    this.moves -= 1;\n    this.board.update();\n  }\n\n  this.board.resetSelections();\n  return points;\n};\n\nGame.prototype.clearMove = function () {\n  this.board.resetSelections();\n};\n\nGame.prototype.beginMove = function (spotPos) {\n  var startSpot = this.board.grid[spotPos[0]][spotPos[1]];\n\n  startSpot.isHead = true;\n  this.board.selectedDots = [startSpot];\n  this.selectedColor = startSpot.color;\n};\n\nGame.prototype.addSpotToSelection = function (spotPos) {\n  var prevDot = this.board.selectionTail();\n  if (spotPos[0] === prevDot.pos[0] && spotPos[1] === prevDot.pos[1]) {\n    return false;\n  }\n\n  var newDot = this.board.grid[spotPos[0]][spotPos[1]];\n  if (prevDot.canConnectWith(newDot)) {\n    this.board.formConnection(newDot);\n    return true;\n  }\n};\n\nGame.prototype.revertSelection = function () {\n  this.board.removeLastConnection();\n};\n\nGame.prototype.over = function () {\n  return this.moves <= 0;\n};\n\n\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/game.js","var Board = require('./board.js');\nvar Game = require('./game.js');\n\nvar View = function ($el) {\n  this.$el = $el;\n\n  this.renderMenu();\n};\n\nView.prototype.newGame = function (event) {\n  this.board = new Board();\n  this.game = new Game(this.board);\n\n  this.newHighScore = false;\n\n  this.renderGame();\n};\n\nView.prototype.renderGame = function (event) {\n  this.setupScoreBoard();\n  this.setupGrid();\n  this.render();\n\n  $('.dots-game').on(\"mousedown vmousedown\", this.beginMove.bind(this));\n  $(window).on(\"mouseup vmouseup\", this.endMove.bind(this));\n  $('.directions-link').click(this.renderMenu.bind(this));\n};\n\nView.prototype.beginMove = function (event) {\n  event.preventDefault();\n  if (event.target.classList[0] !== \"spot\") {\n    return;\n  }\n\n  var dotPos = [event.target.id[0], event.target.id[2]];\n  var board = this.board;\n  var game = this.game;\n\n  game.beginMove(dotPos);\n  $(event.target).addClass('active');\n\n  $('div.' + this.game.selectedColor).on(\"mouseenter touchenter\", function(e) {\n    var newPos = [parseInt(e.target.id[0]), parseInt(e.target.id[2])];\n\n    if (game.addSpotToSelection(newPos)) {\n      activateHTMLConnection();\n      $(e.target).addClass('active');\n\n      if (board.selectionTail().isSquared()) {\n        $('div.' + board.selectedColor()).addClass('squared');\n      }\n    }\n\n  });\n\n  $('div.' + this.game.selectedColor).on(\"mouseleave touchleave\", function(e) {\n    var exitEdge = closestEdge(e);\n\n    if (exitEdge === board.lastEntryPoint()) {\n      game.revertSelection();\n      updateHTMLConnections();\n\n      $(e.target).removeClass('active');\n      if (!board.anySquares()) {\n        $('div.' + board.selectedColor()).removeClass('squared');\n      }\n    }\n  });\n\n  function activateHTMLConnection() {\n    var dots = game.board.newestConnection();\n\n    updateConnectionClass(dots);\n  }\n\n  function updateConnectionClass(dots) {\n    var htmlId = getPossibleHTMLIds(dots);\n\n    $('li#' + htmlId[0] + \"to\" + htmlId[1]).addClass('active ' + board.selectedColor());\n    $('li#' + htmlId[1] + \"to\" + htmlId[0]).addClass('active ' + board.selectedColor());\n  }\n\n  function updateHTMLConnections() {\n    $('li').removeClass('active ' + board.selectedColor());\n\n    for (var i = 0; i < board.selectedDots.length - 1; i++) {\n      var dots = [board.selectedDots[i], board.selectedDots[i + 1]];\n      updateConnectionClass(dots);\n    }\n  }\n\n  function getPossibleHTMLIds(dots) {\n    var dot1 = dots[0];\n    var dot2 = dots[1];\n    return [\n      dot1.pos[0] + \"-\" + dot1.pos[1],\n      dot2.pos[0] + \"-\" + dot2.pos[1]\n    ];\n  }\n\n  function getOppositeEntry(location) {\n    switch (location) {\n      case \"top\":\n        return \"bottom\";\n      case \"right\":\n        return \"left\";\n      case \"bottom\":\n        return \"top\";\n      case \"left\":\n        return \"right\";\n    }\n  }\n};\n\nView.prototype.endMove = function (event) {\n  $('div.spot').unbind();\n  $('li.connection').attr('class', 'connection');\n  $('div.spot').removeClass('active');\n\n\n  var points = this.game.scoreDots();\n  if (points > 1) {\n    this.render();\n  }\n\n  if (this.game.over()) {\n    this.setHighScore();\n    $(\".dots-game\").unbind();\n    $(window).unbind(\"mouseup\");\n    this.renderMenu();\n  }\n};\n\nView.prototype.render = function () {\n  this.updateScore();\n  this.updateSpots();\n  this.renderSpotDrops();\n};\n\nView.prototype.setHighScore = function () {\n  var highScore = localStorage.getItem('dotsHighScore');\n  if (this.game.score > highScore) {\n    localStorage.setItem('dotsHighScore', this.game.score);\n    this.newHighScore = true;\n  }\n};\n\nView.prototype.updateSpots = function () {\n  var grid = this.board.grid;\n  for (var i = 0; i < grid.length; i++) {\n\n    var column = grid[i];\n    for (var j = 0; j < 6; j++) {\n      var spot = column[j];\n      var spotX = spot.pos[0];\n      var spotY = spot.pos[1];\n\n    }\n  }\n\n  this.board.grid.forEach(function (column, x) {\n    column.forEach(function (spot, y) {\n      var spotX = spot.pos[0];\n      var spotY = spot.pos[1];\n      var spotNode = this.$spot.filter(\"#\" + spotX + \"-\" + spotY);\n      if (!spotNode.hasClass('spot-id-' + spot.id)) {\n        spotNode.before(\"<li class='position empty-node'></li>\");\n      }\n      spotNode.attr(\"class\", \"spot \" + spot.color + \" spot-id-\" + spot.id);\n    }.bind(this));\n  }.bind(this));\n};\n\nView.prototype.renderSpotDrops = function () {\n  var emptyNodes = $('li.empty-node');\n  emptyNodes.animate(\n    { height: 0 },\n    170,\n    \"linear\",\n    function () {\n      $(this).remove();\n    }\n  );\n};\n\nView.prototype.getDirectionsHTML = function () {\n  var html = \"<section class='game-menu'>\"+\n                \"<h3>Directions</h3>\" +\n                \"<p>Connect the dots of the same color to score points.</p>\" +\n                \"<p>Form rectangles to collect all dots of the same color.</p>\";\n      if (!this.game) {\n        html += \"<button class='game-button new-game'>New Game</button>\";\n      } else {\n        html += \"<button class='game-button back-to-game'>Back to Game</button>\";\n      }\n      html += \"</section>\";\n  return html;\n};\n\nView.prototype.getGameOverHTML = function () {\n  var html = \"<section class='game-menu'>\"+\n                \"<h3>Game Over</h3>\";\n  if (this.newHighScore) {\n    html  += \"<p>Congratulations! You scored a new personal high score.</p>\" +\n             \"<p>New high score: \" + this.game.score + \"</p>\";\n  } else {\n    html  += \"<p>You scored \" + this.game.score + \" points.</p>\" +\n             \"<p>Your high score is \" + localStorage.getItem('dotsHighScore') + \".</p>\";\n  }\n    html  += \"<button class='game-button new-game'>New Game</button>\" +\n             \"</section>\";\n  return html;\n};\n\nView.prototype.updateScore = function () {\n  this.$moves.html(\"Moves Left: \" + this.game.moves);\n  this.$score.html(\"Score: \" + this.game.score);\n};\n\nView.prototype.renderMenu = function () {\n  var html;\n  if (this.game && this.game.over()) {\n    html = this.getGameOverHTML();\n  } else {\n    html = this.getDirectionsHTML();\n  }\n  this.$el.html(html);\n\n  $('button.new-game').click(this.newGame.bind(this));\n  $('button.back-to-game').click(this.renderGame.bind(this));\n};\n\nView.prototype.setupScoreBoard = function () {\n  var html  = \"<p><a class='directions-link'>Directions</a></p>\";\n      html +=  \"<h2 class='scoreboard group'>\";\n      html +=   \"<span class='moves-left'></span>\";\n      html +=   \"<span class='score'></span>\";\n      html += \"</h2>\";\n  this.$el.html(html);\n  this.$moves = this.$el.find('.moves-left');\n  this.$score = this.$el.find('.score');\n};\n\nView.prototype.setupGrid = function () {\n  var board = \"<figure class='game-board'>\";\n  var spots = \"<section class='spots-board group'>\";\n  var verticalConnections = \"<section class='connections-board vertical'>\";\n  var horizontalConnections = \"<section class='connections-board horizontal'>\";\n  for (var x = 0; x < 6; x++) {\n    spots += \"<ul id='\" + x + \"' class='column group'>\";\n    if (x < 5) {\n    }\n    verticalConnections += \"<ul class='vertical connections group'>\";\n    horizontalConnections += \"<ul class='horizontal connections group'>\";\n    for (var y = 0; y < 6; y++) {\n      spots += (\n        \"<li class='position'><div class='spot' id='\" + x + \"-\" + y + \"'></div></li>\"\n      );\n      if (y < 5) {\n        verticalConnections += (\n          \"<li class='connection' id='\" + x + \"-\" + y + \"to\" + x + \"-\" + (y + 1) + \"'></li>\"\n        );\n        horizontalConnections += (\n          \"<li class='connection' id='\" + y + \"-\" + x + \"to\" + (y + 1) + \"-\" + x + \"'></li>\"\n        );\n      }\n    }\n    spots += \"</ul>\";\n    horizontalConnections += \"</ul>\";\n    verticalConnections += \"</ul>\";\n  }\n  spots += \"</section>\";\n  horizontalConnections += \"</section>\";\n  verticalConnections += \"</section>\";\n  board += spots;\n  board += horizontalConnections;\n  board += verticalConnections;\n  board += \"</figure>\";\n\n  this.$el.append(board);\n  this.$spot = this.$el.find(\"div.spot\");\n  this.$connections = this.$el.find(\"li.connection\");\n};\n\nclosestEdge = function (event) {\n  return closestEdgeFromDimensions(\n    event.pageX - $(event.target).offset().left,\n    event.pageY - $(event.target).offset().top,\n    $(event.target).width(),\n    $(event.target).height()\n  );\n};\n\nclosestEdgeFromDimensions = function (x,y,w,h) {\n  var topEdgeDist = distMetric(x,y,w/2,0);\n  var bottomEdgeDist = distMetric(x,y,w/2,h);\n  var leftEdgeDist = distMetric(x,y,0,h/2);\n  var rightEdgeDist = distMetric(x,y,w,h/2);\n  var min = Math.min(topEdgeDist,bottomEdgeDist,leftEdgeDist,rightEdgeDist);\n\n  switch (min) {\n      case leftEdgeDist:\n          return \"left\";\n      case rightEdgeDist:\n          return \"right\";\n      case topEdgeDist:\n          return \"top\";\n      case bottomEdgeDist:\n          return \"bottom\";\n  }\n};\n\nvar distMetric = function (x,y,x2,y2) {\n  var xDiff = x - x2;\n  var yDiff = y - y2;\n  return (xDiff * xDiff) + (yDiff * yDiff);\n};\n\nmodule.exports = View;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/dotsView.js","export const queryEl = selector => (document.querySelector(selector));\nexport const queryElAll = selector => (document.querySelectorAll(selector));\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util.js"],"sourceRoot":""}